ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f1xx_ll_usb.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.USB_CoreInit,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.global	USB_CoreInit
  19              		.arch armv7-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu softvfp
  25              	USB_CoreInit:
  26              	.LVL0:
  27              	.LFB66:
  28              		.file 1 "Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c"
   1:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
   2:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @file    stm32f1xx_ll_usb.c
   4:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *
   7:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This file provides firmware functions to manage the following 
   8:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           + Peripheral Control functions 
  12:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *
  14:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   @verbatim
  15:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   ==============================================================================
  16:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     [..]
  19:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
  21:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  23:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  25:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   @endverbatim
  26:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   ******************************************************************************
  27:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @attention
  28:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *
  29:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  30:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 2


  31:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * Redistribution and use in source and binary forms, with or without modification,
  32:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * are permitted provided that the following conditions are met:
  33:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  34:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *      this list of conditions and the following disclaimer.
  35:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  36:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *      this list of conditions and the following disclaimer in the documentation
  37:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *      and/or other materials provided with the distribution.
  38:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  39:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *      may be used to endorse or promote products derived from this software
  40:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *      without specific prior written permission.
  41:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *
  42:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  43:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  44:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  45:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  46:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  47:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  48:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  49:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  50:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  51:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  52:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *
  53:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   ******************************************************************************
  54:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */ 
  55:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  56:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  57:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #include "stm32f1xx_hal.h"
  58:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  59:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /** @addtogroup STM32F1xx_HAL_Driver
  60:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @{
  61:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
  62:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  63:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /** @defgroup USB_LL USB Low Layer
  64:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief Low layer module for USB_FS and USB_OTG_FS drivers
  65:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @{
  66:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
  67:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  68:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  69:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  70:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #if defined(STM32F102x6) || defined(STM32F102xB) || \
  71:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     defined(STM32F103x6) || defined(STM32F103xB) || \
  72:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     defined(STM32F103xE) || defined(STM32F103xG) || \
  73:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     defined(STM32F105xC) || defined(STM32F107xC)
  74:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  
  75:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Private types -------------------------------------------------------------*/
  76:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  77:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Private constants ---------------------------------------------------------*/
  78:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Private macros ------------------------------------------------------------*/
  79:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  80:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #if defined (USB_OTG_FS)
  81:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /** @defgroup USB_LL_Private_Functions USB Low Layer Private Functions
  82:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @{
  83:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
  84:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  85:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
  86:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @}
  87:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 3


  88:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #endif /* USB_OTG_FS */
  89:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  90:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  91:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  92:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @{
  93:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
  94:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
  95:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Peripheral Control functions
  96:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  *  @brief   management functions
  97:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  *
  98:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** @verbatim
  99:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  ===============================================================================
 100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                       ##### Peripheral Control functions #####
 101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  ===============================================================================  
 102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     [..]
 103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     This subsection provides a set of functions allowing to control the PCD data 
 104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     transfers.
 105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  
 106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** @endverbatim
 107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @{
 108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /*==============================================================================
 111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USB OTG FS peripheral available on STM32F105xx and STM32F107xx devices 
 112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** ==============================================================================*/
 113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #if defined (USB_OTG_FS)
 114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Initializes the USB Core
 117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx: USB Instance
 118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  cfg : pointer to a USB_OTG_CfgTypeDef structure that contains
 119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(cfg);
 126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Select FS Embedded PHY */
 128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
 129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Reset after a PHY select and set Host mode */
 131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_CoreReset(USBx);
 132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Deactivate the power down*/
 134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GCCFG = USB_OTG_GCCFG_PWRDWN;
 135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 4


 145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** */
 157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  mode :  current core mode
 167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
 168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE: Peripheral mode mode
 169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_HOST_MODE: Host mode
 170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_DRD_MODE: Dual Role Device mode  
 171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx , USB_ModeTypeDef mode)
 174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD); 
 176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if ( mode == USB_HOST_MODE)
 178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD; 
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   HAL_Delay(50);
 186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers 
 192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         for device mode
 193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  cfg  : pointer to a USB_OTG_CfgTypeDef structure that contains
 195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0;
 201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 5


 202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index < 15 ; index++)
 203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->DIEPTXF[index] = 0;
 205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*Activate VBUS Sensing B */
 208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Restart the Phy Clock */
 211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_PCGCCTL = 0;
 212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Device mode configuration */
 214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set Full speed phy */
 217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_SetDevSpeed (USBx , USB_OTG_SPEED_FULL);
 218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Flush the FIFOs */
 220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushTxFifo(USBx , 0x10); /* all Tx FIFOs */
 221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0;
 225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0;
 226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFF;
 227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0;
 228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index < cfg.dev_endpoints; index++)
 230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if ((USBx_INEP(index)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(index)->DIEPCTL = (USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK);
 234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
 236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(index)->DIEPCTL = 0;
 238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(index)->DIEPTSIZ = 0;
 241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(index)->DIEPINT  = 0xFF;
 242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index < cfg.dev_endpoints; index++)
 245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if ((USBx_OUTEP(index)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(index)->DOEPCTL = (USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK);
 249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
 251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(index)->DOEPCTL = 0;
 253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(index)->DOEPTSIZ = 0;
 256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(index)->DOEPINT  = 0xFF;
 257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 6


 259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Disable all interrupts. */
 262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK = 0;
 263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear any pending interrupts */
 265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFF;
 266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable the common interrupts */
 268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |\
 272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                     USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |\
 273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                     USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM|\
 274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM);
 275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if(cfg.Sof_enable)
 277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == ENABLE)
 282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT); 
 284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
 291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  num : FIFO number
 293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo (USB_OTG_GlobalTypeDef *USBx, uint32_t num )
 298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t count = 0;
 300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH |(uint32_t)(num << 6)); 
 302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   do
 304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (++count > 200000)
 306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       return HAL_TIMEOUT;
 308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 7


 316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t count = 0;
 323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   do
 327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (++count > 200000)
 329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       return HAL_TIMEOUT;
 331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_SetDevSpeed :Initializes the DevSpd field of DCFG register 
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  speed : device speed
 343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval  Hal status
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx , uint8_t speed)
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_GetDevSpeed :Return the  Dev Speed 
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval speed : device speed
 361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
 362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint8_t speed = 0;
 368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ)||
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 8


 373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     speed = USB_OTG_SPEED_FULL;
 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     speed = USB_OTG_SPEED_LOW;
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return speed;
 382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in)
 396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Assign a Tx FIFO */
 398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     ep->tx_fifo_num = ep->num;
 399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set initial data PID. */
 401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->type == EP_TYPE_BULK )
 402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     ep->data_pid_start = 0;
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & ((1 << (ep->num)));
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0)
 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18 ) 
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         ((ep->num) << 22 ) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****      USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((1 << (ep->num)) << 16);
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****      
 420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0)
 421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18 )
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****        (USB_OTG_DIEPCTL_SD0PID_SEVNFRM)| (USB_OTG_DOEPCTL_USBAEP));
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 9


 430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Read DEPCTLn register */
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1 << (ep->num))));
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1 << (ep->num))));
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
 449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1 << (ep->num)) << 16));
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1 << (ep->num)) << 16));
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep)
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t pktcnt = 0;
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* IN endpoint */
 470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Zero Length Packet? */
 473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len == 0)
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1 << 19)) ;
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
 480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Program the transfer size and packet count
 482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       * exist ? 1 : 0)
 485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       */
 486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 10


 487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket -1
 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT); 
 494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1 << 29)); 
 495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->type != EP_TYPE_ISOC)
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if (ep->xfer_len > 0)
 502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1 << ep->num;
 504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1 << 8 )) == 0)
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       else
 514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     } 
 518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USB_WritePacket(USBx, ep->xfer_buff, ep->num, ep->xfer_len);
 525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else /* OUT endpoint */
 528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     * pktcnt = N
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     * xfersize = N * maxpacket
 532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     */
 533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len == 0)
 537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1 << 19));
 540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
 542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       pktcnt = (ep->xfer_len + ep->maxpacket -1)/ ep->maxpacket;
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 11


 544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (pktcnt << 19));
 545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt));
 546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1 << 8 )) == 0)
 551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       else
 555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* EP enable */
 560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep)
 573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* IN endpoint */
 578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Zero Length Packet? */
 581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len == 0)
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1 << 19));
 585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
 588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Program the transfer size and packet count
 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       * exist ? 1 : 0)
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       */
 594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if(ep->xfer_len > ep->maxpacket)
 598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 12


 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1 << 19));
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Enable the Tx FIFO Empty Interrupt for this EP */
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len > 0)
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_DEVICE->DIEPEMPMSK |= 1 << (ep->num);
 609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);   
 613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else /* OUT endpoint */
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     * pktcnt = N
 618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     * xfersize = N * maxpacket
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     */
 620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len > 0)
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1 << 19));
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket));
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* EP enable */
 632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated 
 640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         with the EP/channel
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  src :  pointer to source buffer
 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ch_ep_num : endpoint or host channel number
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  len : Number of bytes to write
 645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t count32b = 0 , index = 0;
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   count32b =  (len + 3) / 4;
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index < count32b; index++, src += 4)
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_DFIFO(ch_ep_num) = *((__packed uint32_t *)src);
 657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 13


 658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the Tx FIFO associated 
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         with the EP/channel
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  dest : destination pointer
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  len : Number of bytes to read
 667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval pointer to destination buffer
 668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0;
 672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t count32b = (len + 3) / 4;
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for ( index = 0; index < count32b; index++, dest += 4 )
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     *(__packed uint32_t *)dest = USBx_DFIFO(0);
 679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((void *)dest);
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure   
 688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep)
 691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == 0)
 698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     } 
 701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == 0)
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     } 
 709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 14


 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
 716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
 718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****        USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
 734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
 750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0;
 752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear Pending interrupt */
 754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index < 15 ; index++)
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(index)->DIEPINT  = 0xFF;
 757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_OUTEP(index)->DOEPINT  = 0xFF;
 758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFF;
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear interrupt masks */
 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0;
 763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0;
 764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0;
 765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Flush the FIFO */
 767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushTxFifo(USBx ,  0x10 );
 769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 15


 772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
 775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  address : new device address to be assigned
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
 778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress (USB_OTG_GlobalTypeDef *USBx, uint8_t address)
 781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(address);
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~ (USB_OTG_DCFG_DAD);
 786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCFG |= (address << 4) & USB_OTG_DCFG_DAD;
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect (USB_OTG_GlobalTypeDef *USBx)
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS ;
 802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   HAL_Delay(3);
 803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect (USB_OTG_GlobalTypeDef *USBx)
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   HAL_Delay(3);
 819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t  USB_ReadInterrupts (USB_OTG_GlobalTypeDef *USBx)
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 16


 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return tmpreg;
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
 843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
 845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((tmpreg & 0xffff0000) >> 16);
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
 855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
 859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
 861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((tmpreg & 0xFFFF));
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
 871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  epnum : endpoint number
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg  = USBx_OUTEP(epnum)->DOEPINT;
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return tmpreg;
 885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 17


 886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
 889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  epnum : endpoint number
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0, msk = 0, emp = 0;
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   msk |= ((emp >> epnum) & 0x1) << 7;
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg = USBx_INEP(epnum)->DIEPINT & msk;
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return tmpreg;
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  interrupt : interrupt flag
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval None
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** void  USB_ClearInterrupts (USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Returns USB core mode
 920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval return core mode : Host or Device
 922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           0 : Host 
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           1 : Device
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((USBx->GINTSTS ) & 0x1);
 932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup (USB_OTG_GlobalTypeDef *USBx)
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 18


 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
 944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_INEP(0)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_INEP(0)->DIEPCTL |= 3;
 949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
 957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  psetup : pointer to setup packet
 959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t *psetup)
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(psetup);
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_OUTEP(0)->DOEPTSIZ = 0;
 967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_OUTEP(0)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1 << 19));
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_OUTEP(0)->DOEPTSIZ |= (3 * 8);
 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_OUTEP(0)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers 
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         for Host mode 
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  cfg  : pointer to a USB_OTG_CfgTypeDef structure that contains
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0;
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Restart the Phy Clock */
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_PCGCCTL = 0;
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* no VBUS sensing*/
 990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSASEN);
 991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSBSEN);
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Disable the FS/LS support mode only */
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if((cfg.speed == USB_OTG_SPEED_FULL)&&
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****      (USBx != USB_OTG_FS))
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS; 
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 19


1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);  
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10 ); /* all Tx FIFOs */
1006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index < cfg.Host_channels; index++)
1010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(index)->HCINT = 0xFFFFFFFF;
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(index)->HCINTMSK = 0;
1013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable VBUS driving */
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_DriveVbus(USBx, 1);
1017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   HAL_Delay(200);
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Disable all interrupts. */
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK = 0;
1022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear any pending interrupts */
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFF;
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if(USBx == USB_OTG_FS)
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* set Rx FIFO size */
1029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->GRXFSIZ  = (uint32_t )0x80; 
1030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x60 << 16)& USB_OTG_NPTXFD) | 0x80);
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0x40 << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0);
1032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable the common interrupts */
1035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
1036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM |\
1039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             |USB_OTG_GINTSTS_DISCINT|\
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the 
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  freq : clock frequency
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock 
1052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock 
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx , uint8_t freq)
1056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 20


1057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HOST->HCFG |= (freq & USB_OTG_HCFG_FSLSPCS);
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (freq ==  HCFG_48_MHZ)
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HOST->HFIR = (uint32_t)48000;
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else if (freq ==  HCFG_6_MHZ)
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HOST->HFIR = (uint32_t)6000;
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
1076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @note : (1)The application must wait at least 10 ms
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *   before clearing the reset bit.
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   __IO uint32_t hprt0 = 0;
1084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
1088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
1090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);  
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   HAL_Delay (10);                                /* See Note #1 */
1094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0); 
1095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  state : VBUS state
1101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
1102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           0 : VBUS Active 
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *           1 : VBUS Inactive
1104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** */
1106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus (USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   __IO uint32_t hprt0 = 0;
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
1113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 21


1114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****           USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0 ) && (state == 1 ))
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0 ))
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
1123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Return Host Core speed
1129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval speed : Host speed
1131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_GetHostSpeed (USB_OTG_GlobalTypeDef *USBx)
1136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   __IO uint32_t hprt0 = 0;
1138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
1142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
1143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval current frame number
1149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** */
1150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_GetCurrentFrame (USB_OTG_GlobalTypeDef *USBx)
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Initialize a host channel
1160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ch_num : Channel number
1162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  epnum : Endpoint number
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  dev_address : Current device address
1166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  speed : Current device speed
1168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
1169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 22


1171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep_type : Endpoint Type
1172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
1173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  mps : Max Packet Size
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL state
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,  
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                               uint8_t ch_num,
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                               uint8_t epnum,
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                               uint8_t dev_address,
1185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                               uint8_t speed,
1186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                               uint8_t ep_type,
1187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                               uint16_t mps)
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(ch_num)->HCINT = 0xFFFFFFFF;
1191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   switch (ep_type) 
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_CTRL:
1196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_BULK:
1197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM ;
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (epnum & 0x80) 
1205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_INTR:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM   |\
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (epnum & 0x80) 
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
1222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_ISOC:
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 23


1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_ACKM   |\
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;
1231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (epnum & 0x80) 
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= (1 << ch_num);
1241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
1244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Program the HCCHAR register */
1246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = (((dev_address << 22) & USB_OTG_HCCHAR_DAD)  |\
1247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                              (((epnum & 0x7F)<< 11) & USB_OTG_HCCHAR_EPNUM)|\
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                              ((((epnum & 0x80) == 0x80)<< 15) & USB_OTG_HCCHAR_EPDIR)|\
1249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                              (((speed == HPRT0_PRTSPD_LOW_SPEED)<< 17) & USB_OTG_HCCHAR_LSDEV)|\
1250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                              ((ep_type << 18) & USB_OTG_HCCHAR_EPTYP)|\
1251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                              (mps & USB_OTG_HCCHAR_MPSIZ));
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  hc : pointer to host channel structure
1265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL state
1266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #if defined   (__CC_ARM) /*!< ARM Compiler */
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #pragma O0
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #elif defined (__GNUC__) /*!< GNU Compiler */
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #pragma GCC optimize ("O0")
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #endif /* __CC_ARM */
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc)
1273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint8_t  is_oddframe = 0;
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t len_words = 0;
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t num_packets = 0;
1277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256;
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
1279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (hc->xfer_len > 0)
1282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     num_packets = (hc->xfer_len + hc->max_packet - 1) / hc->max_packet;
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 24


1285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
1286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
1288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       hc->xfer_len = num_packets * hc->max_packet;
1289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     num_packets = 1;
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (hc->ep_is_in)
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     hc->xfer_len = num_packets * hc->max_packet;
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCTSIZ = (((hc->xfer_len) & USB_OTG_HCTSIZ_XFRSIZ)) |\
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |\
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       (((hc->data_pid) << 29) & USB_OTG_HCTSIZ_DPID);
1304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   is_oddframe = (USBx_HOST->HFNUM & 0x01) ? 0 : 1;
1306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR |= (is_oddframe << 29);
1308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set host channel enable */
1310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg = USBx_HC(hc->ch_num)->HCCHAR;
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR = tmpreg;
1314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if((hc->ep_is_in == 0) && (hc->xfer_len > 0))
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     switch(hc->ep_type) 
1318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Non periodic transfer */
1320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     case EP_TYPE_CTRL:
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     case EP_TYPE_BULK:
1322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       len_words = (hc->xfer_len + 3) / 4;
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* check if there is enough space in FIFO space */
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if(len_words > (USBx->HNPTXSTS & 0xFFFF))
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         /* need to process data in nptxfempty interrupt */
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       break;
1331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Periodic transfer */
1333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     case EP_TYPE_INTR:
1334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     case EP_TYPE_ISOC:
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       len_words = (hc->xfer_len + 3) / 4;
1336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* check if there is enough space in FIFO space */
1337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if(len_words > (USBx_HOST->HPTXSTS & 0xFFFF)) /* split the transfer */
1338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         /* need to process data in ptxfempty interrupt */
1340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;          
1341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 25


1342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       break;
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     default:
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       break;
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, hc->xfer_len);
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL state
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt (USB_OTG_GlobalTypeDef *USBx)
1361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFF);
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Halt a host channel
1370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  hc_num : Host Channel number
1372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL state
1374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx , uint8_t hc_num)
1376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t count = 0;
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (((((USBx_HC(hc_num)->HCCHAR) & USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_CTRL) ||
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****      (((((USBx_HC(hc_num)->HCCHAR) & USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
1384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
1386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if ((USBx->HNPTXSTS & 0xFFFF) == 0)
1388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
1392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       do
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         if (++count > 1000)
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         {
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****           break;
1397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         }
1398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       } 
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 26


1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
1400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
1407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & 0xFFFF) == 0)
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
1413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       do
1416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         if (++count > 1000)
1418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         {
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****           break;
1420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         }
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       } 
1422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
1423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****        USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
1427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  hc_num : Host Channel number
1437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL state
1439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx , uint8_t ch_num)
1441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint8_t  num_packets = 1;
1443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |\
1448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****                                 USB_OTG_HCTSIZ_DOPING;
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set host channel enable */
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
1452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
1453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
1454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 27


1456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;  
1457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Stop Host Core
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL state
1463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint8_t index;
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t count = 0;
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t value = 0;
1469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_DisableGlobalInt(USBx);
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Flush FIFO */
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10);
1474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
1475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index <= 15; index++)
1478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value = USBx_HC(index)->HCCHAR;
1480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
1482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
1483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(index)->HCCHAR = value;
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = 0; index <= 15; index++)
1488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value = USBx_HC(index)->HCCHAR ;
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
1491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
1492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
1493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_HC(index)->HCCHAR = value;
1494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     do
1496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if (++count > 1000)
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         break;
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
1501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     while ((USBx_HC(index)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
1503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFF;
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFF;
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_EnableGlobalInt(USBx);
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 28


1513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup : active remote wakeup signalling
1515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
1523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* active Remote wakeup signalling */
1525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
1526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup : de-active remote wakeup signalling
1532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* active Remote wakeup signalling */
1540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #endif /* USB_OTG_FS */
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /*==============================================================================
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     USB Device FS peripheral available on STM32F102xx and STM32F103xx devices 
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** ==============================================================================*/
1549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** #if defined (USB)
1550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Initializes the USB Core
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx: USB Instance
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  cfg : pointer to a USB_CfgTypeDef structure that contains
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_TypeDef *USBx, USB_CfgTypeDef cfg)
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
  29              		.loc 1 1558 1 view -0
  30              		.cfi_startproc
  31              		@ args = 36, pretend = 16, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
  34              		.loc 1 1560 3 view .LVU1
1561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(cfg);
  35              		.loc 1 1561 3 view .LVU2
1562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 29


1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
1564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
1566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
  36              		.loc 1 1566 3 view .LVU3
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
  37              		.loc 1 1558 1 is_stmt 0 view .LVU4
  38 0000 84B0     		sub	sp, sp, #16
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 16
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
  41              		.loc 1 1558 1 view .LVU5
  42 0002 01A8     		add	r0, sp, #4
  43              	.LVL1:
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
  44              		.loc 1 1558 1 view .LVU6
  45 0004 80E80E00 		stm	r0, {r1, r2, r3}
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
  46              		.loc 1 1567 1 view .LVU7
  47 0008 04B0     		add	sp, sp, #16
  48              	.LCFI1:
  49              		.cfi_def_cfa_offset 0
  50 000a 0020     		movs	r0, #0
  51 000c 7047     		bx	lr
  52              		.cfi_endproc
  53              	.LFE66:
  55 000e 00BF     		.section	.text.USB_EnableGlobalInt,"ax",%progbits
  56              		.align	1
  57              		.p2align 2,,3
  58              		.global	USB_EnableGlobalInt
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu softvfp
  64              	USB_EnableGlobalInt:
  65              	.LVL2:
  66              	.LFB67:
1568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
1571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
1572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_TypeDef *USBx)
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
  67              		.loc 1 1576 1 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71              		@ link register save eliminated.
1577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t winterruptmask = 0;
  72              		.loc 1 1577 3 view .LVU9
1578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set winterruptmask variable */
1580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   winterruptmask = USB_CNTR_CTRM  | USB_CNTR_WKUPM | USB_CNTR_SUSPM | USB_CNTR_ERRM \
  73              		.loc 1 1580 3 view .LVU10
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 30


1581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****      | USB_CNTR_SOFM | USB_CNTR_ESOFM | USB_CNTR_RESETM;
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set interrupt mask */
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR |= winterruptmask;
  74              		.loc 1 1584 3 view .LVU11
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t winterruptmask = 0;
  75              		.loc 1 1576 1 is_stmt 0 view .LVU12
  76 0000 0246     		mov	r2, r0
  77              		.loc 1 1584 14 view .LVU13
  78 0002 B0F84030 		ldrh	r3, [r0, #64]
1585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
  79              		.loc 1 1587 1 view .LVU14
  80 0006 0020     		movs	r0, #0
  81              	.LVL3:
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
  82              		.loc 1 1584 14 view .LVU15
  83 0008 43F43F43 		orr	r3, r3, #48896
  84 000c A2F84030 		strh	r3, [r2, #64]	@ movhi
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
  85              		.loc 1 1586 3 is_stmt 1 view .LVU16
  86              		.loc 1 1587 1 is_stmt 0 view .LVU17
  87 0010 7047     		bx	lr
  88              		.cfi_endproc
  89              	.LFE67:
  91 0012 00BF     		.section	.text.USB_DisableGlobalInt,"ax",%progbits
  92              		.align	1
  93              		.p2align 2,,3
  94              		.global	USB_DisableGlobalInt
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  98              		.fpu softvfp
 100              	USB_DisableGlobalInt:
 101              	.LVL4:
 102              	.LFB68:
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
1591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** */
1595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_TypeDef *USBx)
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 103              		.loc 1 1596 1 is_stmt 1 view -0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107              		@ link register save eliminated.
1597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t winterruptmask = 0;
 108              		.loc 1 1597 3 view .LVU19
1598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Set winterruptmask variable */
1600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   winterruptmask = USB_CNTR_CTRM  | USB_CNTR_WKUPM | USB_CNTR_SUSPM | USB_CNTR_ERRM \
 109              		.loc 1 1600 3 view .LVU20
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 31


1601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     | USB_CNTR_ESOFM | USB_CNTR_RESETM;
1602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Clear interrupt mask */
1604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR &= ~winterruptmask;
 110              		.loc 1 1604 3 view .LVU21
 111              		.loc 1 1604 14 is_stmt 0 view .LVU22
 112 0000 44F2FF23 		movw	r3, #17151
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t winterruptmask = 0;
 113              		.loc 1 1596 1 view .LVU23
 114 0004 0246     		mov	r2, r0
 115              		.loc 1 1604 14 view .LVU24
 116 0006 B0F84010 		ldrh	r1, [r0, #64]
1605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 117              		.loc 1 1607 1 view .LVU25
 118 000a 0020     		movs	r0, #0
 119              	.LVL5:
1604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 120              		.loc 1 1604 14 view .LVU26
 121 000c 0B40     		ands	r3, r3, r1
 122 000e A2F84030 		strh	r3, [r2, #64]	@ movhi
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 123              		.loc 1 1606 3 is_stmt 1 view .LVU27
 124              		.loc 1 1607 1 is_stmt 0 view .LVU28
 125 0012 7047     		bx	lr
 126              		.cfi_endproc
 127              	.LFE68:
 129              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 130              		.align	1
 131              		.p2align 2,,3
 132              		.global	USB_SetCurrentMode
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu softvfp
 138              	USB_SetCurrentMode:
 139              	.LVL6:
 140              	.LFB69:
1608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
1611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  mode :  current core mode
1613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be one of the these values:
1614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE: Peripheral mode mode
1615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_TypeDef *USBx , USB_ModeTypeDef mode)
1618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 141              		.loc 1 1618 1 is_stmt 1 view -0
 142              		.cfi_startproc
 143              		@ args = 0, pretend = 0, frame = 0
 144              		@ frame_needed = 0, uses_anonymous_args = 0
 145              		@ link register save eliminated.
1619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 32


 146              		.loc 1 1620 3 view .LVU30
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(mode);
 147              		.loc 1 1621 3 view .LVU31
1622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
1626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 148              		.loc 1 1626 3 view .LVU32
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 149              		.loc 1 1627 1 is_stmt 0 view .LVU33
 150 0000 0020     		movs	r0, #0
 151              	.LVL7:
 152              		.loc 1 1627 1 view .LVU34
 153 0002 7047     		bx	lr
 154              		.cfi_endproc
 155              	.LFE69:
 157              		.section	.text.USB_DevInit,"ax",%progbits
 158              		.align	1
 159              		.p2align 2,,3
 160              		.global	USB_DevInit
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 164              		.fpu softvfp
 166              	USB_DevInit:
 167              	.LVL8:
 168              	.LFB70:
1628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB controller registers 
1631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         for device mode
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  cfg  : pointer to a USB_CfgTypeDef structure that contains
1634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit (USB_TypeDef *USBx, USB_CfgTypeDef cfg)
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 169              		.loc 1 1638 1 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 36, pretend = 16, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173              		@ link register save eliminated.
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(cfg);
 174              		.loc 1 1640 3 view .LVU36
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Init Device */
1643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*CNTR_FRES = 1*/
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR = USB_CNTR_FRES;
 175              		.loc 1 1644 3 view .LVU37
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 176              		.loc 1 1638 1 is_stmt 0 view .LVU38
 177 0000 84B0     		sub	sp, sp, #16
 178              	.LCFI2:
 179              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 33


 180 0002 70B4     		push	{r4, r5, r6}
 181              	.LCFI3:
 182              		.cfi_def_cfa_offset 28
 183              		.cfi_offset 4, -28
 184              		.cfi_offset 5, -24
 185              		.cfi_offset 6, -20
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 186              		.loc 1 1638 1 view .LVU39
 187 0004 0446     		mov	r4, r0
 188              		.loc 1 1644 14 view .LVU40
 189 0006 0125     		movs	r5, #1
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*CNTR_FRES = 0*/
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR = 0;
 190              		.loc 1 1647 14 view .LVU41
 191 0008 0020     		movs	r0, #0
 192              	.LVL9:
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 193              		.loc 1 1644 14 view .LVU42
 194 000a A4F84050 		strh	r5, [r4, #64]	@ movhi
 195              		.loc 1 1647 3 is_stmt 1 view .LVU43
 196              		.loc 1 1647 14 is_stmt 0 view .LVU44
 197 000e A4F84000 		strh	r0, [r4, #64]	@ movhi
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****  
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*Clear pending interrupts*/
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->ISTR = 0;
 198              		.loc 1 1650 3 is_stmt 1 view .LVU45
 199              		.loc 1 1650 14 is_stmt 0 view .LVU46
 200 0012 A4F84400 		strh	r0, [r4, #68]	@ movhi
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*Set Btable Address*/
1653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->BTABLE = BTABLE_ADDRESS;
 201              		.loc 1 1653 3 is_stmt 1 view .LVU47
 202              		.loc 1 1653 16 is_stmt 0 view .LVU48
 203 0016 A4F85000 		strh	r0, [r4, #80]	@ movhi
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Enable USB Device Interrupt mask */
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USB_EnableGlobalInt(USBx);
 204              		.loc 1 1656 3 is_stmt 1 view .LVU49
 205              	.LVL10:
 206              	.LBB20:
 207              	.LBI20:
1575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 208              		.loc 1 1575 19 view .LVU50
 209              	.LBB21:
1577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 210              		.loc 1 1577 3 view .LVU51
1580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****      | USB_CNTR_SOFM | USB_CNTR_ESOFM | USB_CNTR_RESETM;
 211              		.loc 1 1580 3 view .LVU52
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 212              		.loc 1 1584 3 view .LVU53
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 213              		.loc 1 1584 14 is_stmt 0 view .LVU54
 214 001a B4F84060 		ldrh	r6, [r4, #64]
 215              	.LBE21:
 216              	.LBE20:
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 34


 217              		.loc 1 1638 1 view .LVU55
 218 001e 04AD     		add	r5, sp, #16
 219              	.LBB23:
 220              	.LBB22:
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 221              		.loc 1 1584 14 view .LVU56
 222 0020 46F43F46 		orr	r6, r6, #48896
 223 0024 A4F84060 		strh	r6, [r4, #64]	@ movhi
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 224              		.loc 1 1586 3 is_stmt 1 view .LVU57
 225              	.LVL11:
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 226              		.loc 1 1586 3 is_stmt 0 view .LVU58
 227              	.LBE22:
 228              	.LBE23:
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 229              		.loc 1 1658 3 is_stmt 1 view .LVU59
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 230              		.loc 1 1638 1 is_stmt 0 view .LVU60
 231 0028 85E80E00 		stm	r5, {r1, r2, r3}
1659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 232              		.loc 1 1659 1 view .LVU61
 233 002c 70BC     		pop	{r4, r5, r6}
 234              	.LCFI4:
 235              		.cfi_restore 6
 236              		.cfi_restore 5
 237              		.cfi_restore 4
 238              		.cfi_def_cfa_offset 16
 239              	.LVL12:
 240              		.loc 1 1659 1 view .LVU62
 241 002e 04B0     		add	sp, sp, #16
 242              	.LCFI5:
 243              		.cfi_def_cfa_offset 0
 244 0030 7047     		bx	lr
 245              		.cfi_endproc
 246              	.LFE70:
 248 0032 00BF     		.section	.text.USB_FlushTxFifo,"ax",%progbits
 249              		.align	1
 250              		.p2align 2,,3
 251              		.global	USB_FlushTxFifo
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 255              		.fpu softvfp
 257              	USB_FlushTxFifo:
 258              	.LVL13:
 259              	.LFB71:
1660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_FlushTxFifo : Flush a Tx FIFO
1663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  num : FIFO number
1665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             15 means Flush all Tx FIFOs
1667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 35


1669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo (USB_TypeDef *USBx, uint32_t num)
1670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 260              		.loc 1 1670 1 is_stmt 1 view -0
 261              		.cfi_startproc
 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
 264              		@ link register save eliminated.
1671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 265              		.loc 1 1672 3 view .LVU64
1673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(num);
 266              		.loc 1 1673 3 view .LVU65
1674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
1676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
1678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 267              		.loc 1 1678 3 view .LVU66
1679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 268              		.loc 1 1679 1 is_stmt 0 view .LVU67
 269 0000 0020     		movs	r0, #0
 270              	.LVL14:
 271              		.loc 1 1679 1 view .LVU68
 272 0002 7047     		bx	lr
 273              		.cfi_endproc
 274              	.LFE71:
 276              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 277              		.align	1
 278              		.p2align 2,,3
 279              		.global	USB_FlushRxFifo
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 283              		.fpu softvfp
 285              	USB_FlushRxFifo:
 286              	.LVL15:
 287              	.LFB72:
1680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
1683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_TypeDef *USBx)
1687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 288              		.loc 1 1687 1 is_stmt 1 view -0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              		@ link register save eliminated.
1688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
 293              		.loc 1 1689 3 view .LVU70
1690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
1691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
1692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 36


1694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 294              		.loc 1 1694 3 view .LVU71
1695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 295              		.loc 1 1695 1 is_stmt 0 view .LVU72
 296 0000 0020     		movs	r0, #0
 297              	.LVL16:
 298              		.loc 1 1695 1 view .LVU73
 299 0002 7047     		bx	lr
 300              		.cfi_endproc
 301              	.LFE72:
 303              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 304              		.align	1
 305              		.p2align 2,,3
 306              		.global	USB_ActivateEndpoint
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 310              		.fpu softvfp
 312              	USB_ActivateEndpoint:
 313              	.LVL17:
 314              	.LFB73:
1696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
1699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
1701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_TypeDef *USBx, USB_EPTypeDef *ep)
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 315              		.loc 1 1704 1 is_stmt 1 view -0
 316              		.cfi_startproc
 317              		@ args = 0, pretend = 0, frame = 0
 318              		@ frame_needed = 0, uses_anonymous_args = 0
 319              		@ link register save eliminated.
1705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* initialize Endpoint */
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   switch (ep->type)
 320              		.loc 1 1706 3 view .LVU75
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* initialize Endpoint */
 321              		.loc 1 1704 1 is_stmt 0 view .LVU76
 322 0000 70B4     		push	{r4, r5, r6}
 323              	.LCFI6:
 324              		.cfi_def_cfa_offset 12
 325              		.cfi_offset 4, -12
 326              		.cfi_offset 5, -8
 327              		.cfi_offset 6, -4
 328 0002 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 329              		.loc 1 1706 3 view .LVU77
 330 0004 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 331 0006 00EB8204 		add	r4, r0, r2, lsl #2
 332 000a 032B     		cmp	r3, #3
 333 000c 0ED8     		bhi	.L12
 334 000e DFE803F0 		tbb	[pc, r3]
 335              	.L14:
 336 0012 02       		.byte	(.L17-.L14)/2
 337 0013 BA       		.byte	(.L16-.L14)/2
 338 0014 B0       		.byte	(.L15-.L14)/2
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 37


 339 0015 A4       		.byte	(.L13-.L14)/2
 340              		.p2align 1
 341              	.L17:
1707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_CTRL:
1709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EPTYPE(USBx, ep->num, USB_EP_CONTROL);
 342              		.loc 1 1709 5 is_stmt 1 view .LVU78
 343 0016 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 344 001a AA4B     		ldr	r3, .L56
 345 001c 2340     		ands	r3, r3, r4
 346 001e 43F40073 		orr	r3, r3, #512
 347 0022 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
1710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
 348              		.loc 1 1710 5 view .LVU79
 349 0026 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 350 0028 00EB8204 		add	r4, r0, r2, lsl #2
 351              	.L12:
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_BULK:
1712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EPTYPE(USBx, ep->num, USB_EP_BULK);
1713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
1714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_INTR:
1715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EPTYPE(USBx, ep->num, USB_EP_INTERRUPT);
1716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_ISOC:
1718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EPTYPE(USBx, ep->num, USB_EP_ISOCHRONOUS);
1719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   default:
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       break;
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   } 
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   PCD_SET_EP_ADDRESS(USBx, ep->num, ep->num);
 352              		.loc 1 1724 3 view .LVU80
 353 002c 40F60F75 		movw	r5, #3855
 354 0030 2388     		ldrh	r3, [r4]
 355 0032 00F58066 		add	r6, r0, #1024
 356 0036 2B40     		ands	r3, r3, r5
 357 0038 1343     		orrs	r3, r3, r2
 358 003a 43F40043 		orr	r3, r3, #32768
 359 003e 43F08003 		orr	r3, r3, #128
 360 0042 2380     		strh	r3, [r4]	@ movhi
1725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->doublebuffer == 0) 
 361              		.loc 1 1726 3 view .LVU81
 362              		.loc 1 1726 6 is_stmt 0 view .LVU82
 363 0044 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 364 0046 6BBB     		cbnz	r3, .L18
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->is_in)
 365              		.loc 1 1728 5 is_stmt 1 view .LVU83
 366 0048 8A88     		ldrh	r2, [r1, #4]
 367 004a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 368              		.loc 1 1728 8 is_stmt 0 view .LVU84
 369 004c 4C78     		ldrb	r4, [r1, #1]	@ zero_extendqisi2
 370 004e 5208     		lsrs	r2, r2, #1
 371 0050 5200     		lsls	r2, r2, #1
 372 0052 DB00     		lsls	r3, r3, #3
 373 0054 002C     		cmp	r4, #0
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 38


 374 0056 00F0DF80 		beq	.L19
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set the endpoint Transmit buffer address */
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_ADDRESS(USBx, ep->num, ep->pmaadress);
 375              		.loc 1 1731 7 is_stmt 1 view .LVU85
 376 005a B0F85040 		ldrh	r4, [r0, #80]
 377 005e 2344     		add	r3, r3, r4
 378 0060 46F81320 		str	r2, [r6, r3, lsl #1]
1732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 379              		.loc 1 1732 7 view .LVU86
 380 0064 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 381 0066 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 382 006a 00EB8302 		add	r2, r0, r3, lsl #2
 383 006e 6406     		lsls	r4, r4, #25
 384 0070 0BD5     		bpl	.L20
 385              		.loc 1 1732 7 discriminator 1 view .LVU87
 386 0072 30F82320 		ldrh	r2, [r0, r3, lsl #2]
 387 0076 1540     		ands	r5, r5, r2
 388 0078 45F40045 		orr	r5, r5, #32768
 389 007c 45F0C005 		orr	r5, r5, #192
 390 0080 20F82350 		strh	r5, [r0, r3, lsl #2]	@ movhi
 391 0084 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 392 0086 00EB8202 		add	r2, r0, r2, lsl #2
 393              	.L20:
 394              		.loc 1 1732 39 discriminator 3 view .LVU88
 395              	.LBB24:
1733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure NAK status for the Endpoint*/
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK); 
 396              		.loc 1 1734 7 discriminator 3 view .LVU89
 397              		.loc 1 1734 7 discriminator 3 view .LVU90
 398 008a 1188     		ldrh	r1, [r2]
 399              	.LVL18:
 400              		.loc 1 1734 7 is_stmt 0 discriminator 3 view .LVU91
 401 008c 8E4B     		ldr	r3, .L56+4
 402              	.LBE24:
1735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set the endpoint Receive buffer address */
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_ADDRESS(USBx, ep->num, ep->pmaadress);
1740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set the endpoint Receive buffer counter*/
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_CNT(USBx, ep->num, ep->maxpacket);
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
1743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint*/
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
1745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*Double Buffer*/
1748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
1749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /*Set the endpoint as double buffered*/
1751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_DBUF(USBx, ep->num);
1752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /*Set buffer address for double buffered mode*/
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_DBUF_ADDR(USBx, ep->num,ep->pmaaddr0, ep->pmaaddr1);
1754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->is_in==0)
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 39


1757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
1760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Reset value of the data toggle bits for the endpoint out*/
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_TX_DTOG(USBx, ep->num);
1763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
1766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
1772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
1776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 403              		.loc 1 1780 1 discriminator 3 view .LVU92
 404 008e 0020     		movs	r0, #0
 405              	.LVL19:
 406              		.loc 1 1780 1 discriminator 3 view .LVU93
 407 0090 70BC     		pop	{r4, r5, r6}
 408              	.LCFI7:
 409              		.cfi_remember_state
 410              		.cfi_restore 6
 411              		.cfi_restore 5
 412              		.cfi_restore 4
 413              		.cfi_def_cfa_offset 0
 414              	.LVL20:
 415              	.LBB25:
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 416              		.loc 1 1734 7 discriminator 3 view .LVU94
 417 0092 0B40     		ands	r3, r3, r1
 418              	.LVL21:
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 419              		.loc 1 1734 7 is_stmt 1 discriminator 3 view .LVU95
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 420              		.loc 1 1734 7 discriminator 3 view .LVU96
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 421              		.loc 1 1734 7 discriminator 3 view .LVU97
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 422              		.loc 1 1734 7 discriminator 3 view .LVU98
 423 0094 83F02003 		eor	r3, r3, #32
 424              	.LVL22:
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 425              		.loc 1 1734 7 is_stmt 0 discriminator 3 view .LVU99
 426 0098 43F40043 		orr	r3, r3, #32768
 427              	.LVL23:
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 428              		.loc 1 1734 7 discriminator 3 view .LVU100
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 40


 429 009c 43F08003 		orr	r3, r3, #128
 430 00a0 1380     		strh	r3, [r2]	@ movhi
 431              	.LBE25:
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 432              		.loc 1 1734 57 is_stmt 1 discriminator 3 view .LVU101
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 433              		.loc 1 1775 57 discriminator 3 view .LVU102
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 434              		.loc 1 1779 3 discriminator 3 view .LVU103
 435              		.loc 1 1780 1 is_stmt 0 discriminator 3 view .LVU104
 436 00a2 7047     		bx	lr
 437              	.LVL24:
 438              	.L18:
 439              	.LCFI8:
 440              		.cfi_restore_state
1751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /*Set buffer address for double buffered mode*/
 441              		.loc 1 1751 5 is_stmt 1 view .LVU105
 442 00a4 40F60F63 		movw	r3, #3599
 443 00a8 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 444 00aa 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 445 00ae 2340     		ands	r3, r3, r4
 446 00b0 43F40143 		orr	r3, r3, #33024
 447 00b4 43F08003 		orr	r3, r3, #128
 448 00b8 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 449              		.loc 1 1753 5 view .LVU106
 450 00bc CB88     		ldrh	r3, [r1, #6]
 451 00be B0F85020 		ldrh	r2, [r0, #80]
 452 00c2 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 453 00c4 5B08     		lsrs	r3, r3, #1
 454 00c6 02EBC402 		add	r2, r2, r4, lsl #3
 455 00ca 5B00     		lsls	r3, r3, #1
 456 00cc 46F81230 		str	r3, [r6, r2, lsl #1]
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 457              		.loc 1 1753 5 view .LVU107
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 458              		.loc 1 1753 5 view .LVU108
 459 00d0 B0F85030 		ldrh	r3, [r0, #80]
 460 00d4 0A89     		ldrh	r2, [r1, #8]
 461 00d6 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 462 00d8 0433     		adds	r3, r3, #4
 463 00da 5208     		lsrs	r2, r2, #1
 464 00dc 03EBC403 		add	r3, r3, r4, lsl #3
 465 00e0 5200     		lsls	r2, r2, #1
 466 00e2 46F81320 		str	r2, [r6, r3, lsl #1]
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 467              		.loc 1 1753 5 view .LVU109
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
 468              		.loc 1 1753 67 view .LVU110
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 469              		.loc 1 1755 5 view .LVU111
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 470              		.loc 1 1758 7 is_stmt 0 view .LVU112
 471 00e6 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 472              		.loc 1 1755 8 view .LVU113
 473 00e8 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 41


1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 474              		.loc 1 1758 7 view .LVU114
 475 00ea 30F82240 		ldrh	r4, [r0, r2, lsl #2]
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 476              		.loc 1 1755 8 view .LVU115
 477 00ee 002B     		cmp	r3, #0
 478 00f0 55D1     		bne	.L27
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 479              		.loc 1 1758 7 is_stmt 1 view .LVU116
 480 00f2 6604     		lsls	r6, r4, #17
 481 00f4 00EB8203 		add	r3, r0, r2, lsl #2
 482 00f8 0BD5     		bpl	.L28
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 483              		.loc 1 1758 7 discriminator 1 view .LVU117
 484 00fa 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 485 00fe 1D40     		ands	r5, r5, r3
 486 0100 45F44045 		orr	r5, r5, #49152
 487 0104 45F08005 		orr	r5, r5, #128
 488 0108 20F82250 		strh	r5, [r0, r2, lsl #2]	@ movhi
 489 010c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 490 010e 00EB8303 		add	r3, r0, r3, lsl #2
 491              	.L28:
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 492              		.loc 1 1758 39 discriminator 3 view .LVU118
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 493              		.loc 1 1759 7 discriminator 3 view .LVU119
 494 0112 1A88     		ldrh	r2, [r3]
 495 0114 5506     		lsls	r5, r2, #25
 496 0116 00F1C880 		bmi	.L54
 497              	.L29:
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 498              		.loc 1 1759 39 discriminator 3 view .LVU120
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 499              		.loc 1 1762 7 discriminator 3 view .LVU121
 500 011a 40F60F72 		movw	r2, #3855
 501              	.LBB26:
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 502              		.loc 1 1764 7 is_stmt 0 discriminator 3 view .LVU122
 503 011e 48F28004 		movw	r4, #32896
 504              	.LBE26:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 505              		.loc 1 1762 7 discriminator 3 view .LVU123
 506 0122 1D88     		ldrh	r5, [r3]
 507 0124 2A40     		ands	r2, r2, r5
 508 0126 42F40042 		orr	r2, r2, #32768
 509 012a 42F0C002 		orr	r2, r2, #192
 510 012e 1A80     		strh	r2, [r3]	@ movhi
 511              	.LBB27:
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 512              		.loc 1 1764 7 is_stmt 1 discriminator 3 view .LVU124
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 513              		.loc 1 1764 7 discriminator 3 view .LVU125
 514 0130 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 515 0132 664B     		ldr	r3, .L56+8
 516 0134 30F82250 		ldrh	r5, [r0, r2, lsl #2]
 517 0138 2B40     		ands	r3, r3, r5
 518              	.LVL25:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 42


1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 519              		.loc 1 1764 7 discriminator 3 view .LVU126
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 520              		.loc 1 1764 7 discriminator 3 view .LVU127
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 521              		.loc 1 1764 7 discriminator 3 view .LVU128
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 522              		.loc 1 1764 7 discriminator 3 view .LVU129
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 523              		.loc 1 1764 7 discriminator 3 view .LVU130
 524 013a 83F44053 		eor	r3, r3, #12288
 525              	.LVL26:
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 526              		.loc 1 1764 7 is_stmt 0 discriminator 3 view .LVU131
 527 013e 2343     		orrs	r3, r3, r4
 528              	.LVL27:
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 529              		.loc 1 1764 7 discriminator 3 view .LVU132
 530 0140 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 531              	.LBE27:
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 532              		.loc 1 1764 59 is_stmt 1 discriminator 3 view .LVU133
 533              	.LBB28:
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 534              		.loc 1 1765 7 discriminator 3 view .LVU134
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 535              		.loc 1 1765 7 discriminator 3 view .LVU135
 536 0144 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 537 0146 604B     		ldr	r3, .L56+4
 538 0148 30F82210 		ldrh	r1, [r0, r2, lsl #2]
 539              	.LVL28:
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 540              		.loc 1 1765 7 discriminator 3 view .LVU136
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 541              		.loc 1 1765 7 discriminator 3 view .LVU137
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 542              		.loc 1 1765 7 discriminator 3 view .LVU138
 543 014c 0B40     		ands	r3, r3, r1
 544 014e 1C43     		orrs	r4, r4, r3
 545 0150 20F82240 		strh	r4, [r0, r2, lsl #2]	@ movhi
 546              	.LBE28:
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 547              		.loc 1 1765 57 discriminator 3 view .LVU139
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 548              		.loc 1 1775 57 discriminator 3 view .LVU140
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 549              		.loc 1 1779 3 discriminator 3 view .LVU141
 550              		.loc 1 1780 1 is_stmt 0 discriminator 3 view .LVU142
 551 0154 0020     		movs	r0, #0
 552              	.LVL29:
 553              		.loc 1 1780 1 discriminator 3 view .LVU143
 554 0156 70BC     		pop	{r4, r5, r6}
 555              	.LCFI9:
 556              		.cfi_remember_state
 557              		.cfi_restore 6
 558              		.cfi_restore 5
 559              		.cfi_restore 4
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 43


 560              		.cfi_def_cfa_offset 0
 561              	.LVL30:
 562              		.loc 1 1780 1 discriminator 3 view .LVU144
 563 0158 7047     		bx	lr
 564              	.LVL31:
 565              	.L13:
 566              	.LCFI10:
 567              		.cfi_restore_state
1715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
 568              		.loc 1 1715 5 is_stmt 1 view .LVU145
 569 015a 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 570 015e 594B     		ldr	r3, .L56
 571 0160 2340     		ands	r3, r3, r4
 572 0162 43F4C063 		orr	r3, r3, #1536
 573 0166 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
1716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_ISOC:
 574              		.loc 1 1716 5 view .LVU146
 575 016a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 576 016c 00EB8204 		add	r4, r0, r2, lsl #2
 577 0170 5CE7     		b	.L12
 578              	.L15:
1712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
 579              		.loc 1 1712 5 view .LVU147
 580 0172 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 581 0176 534B     		ldr	r3, .L56
 582 0178 2340     		ands	r3, r3, r4
 583 017a 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
1713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   case EP_TYPE_INTR:
 584              		.loc 1 1713 5 view .LVU148
 585 017e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 586 0180 00EB8204 		add	r4, r0, r2, lsl #2
 587 0184 52E7     		b	.L12
 588              	.L16:
1718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     break;
 589              		.loc 1 1718 5 view .LVU149
 590 0186 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 591 018a 4E4B     		ldr	r3, .L56
 592 018c 2340     		ands	r3, r3, r4
 593 018e 43F48063 		orr	r3, r3, #1024
 594 0192 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
1719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   default:
 595              		.loc 1 1719 5 view .LVU150
 596 0196 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 597 0198 00EB8204 		add	r4, r0, r2, lsl #2
 598 019c 46E7     		b	.L12
 599              	.L27:
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 600              		.loc 1 1770 7 view .LVU151
 601 019e 6404     		lsls	r4, r4, #17
 602 01a0 00EB8203 		add	r3, r0, r2, lsl #2
 603 01a4 0BD5     		bpl	.L30
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 604              		.loc 1 1770 7 discriminator 1 view .LVU152
 605 01a6 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 606 01aa 1D40     		ands	r5, r5, r3
 607 01ac 45F44045 		orr	r5, r5, #49152
 608 01b0 45F08005 		orr	r5, r5, #128
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 44


 609 01b4 20F82250 		strh	r5, [r0, r2, lsl #2]	@ movhi
 610 01b8 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 611 01ba 00EB8303 		add	r3, r0, r3, lsl #2
 612              	.L30:
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 613              		.loc 1 1770 39 discriminator 3 view .LVU153
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 614              		.loc 1 1771 7 discriminator 3 view .LVU154
 615 01be 1A88     		ldrh	r2, [r3]
 616 01c0 5206     		lsls	r2, r2, #25
 617 01c2 0BD5     		bpl	.L31
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 618              		.loc 1 1771 7 discriminator 1 view .LVU155
 619 01c4 40F60F72 		movw	r2, #3855
 620 01c8 1C88     		ldrh	r4, [r3]
 621 01ca 2240     		ands	r2, r2, r4
 622 01cc 42F40042 		orr	r2, r2, #32768
 623 01d0 42F0C002 		orr	r2, r2, #192
 624 01d4 1A80     		strh	r2, [r3]	@ movhi
 625 01d6 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 626 01d8 00EB8303 		add	r3, r0, r3, lsl #2
 627              	.L31:
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 628              		.loc 1 1771 39 discriminator 3 view .LVU156
1772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 629              		.loc 1 1772 7 discriminator 3 view .LVU157
 630 01dc 40F60F72 		movw	r2, #3855
 631              	.LBB29:
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 632              		.loc 1 1774 7 is_stmt 0 discriminator 3 view .LVU158
 633 01e0 48F28004 		movw	r4, #32896
 634              	.LBE29:
1772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 635              		.loc 1 1772 7 discriminator 3 view .LVU159
 636 01e4 1D88     		ldrh	r5, [r3]
 637 01e6 2A40     		ands	r2, r2, r5
 638 01e8 42F44042 		orr	r2, r2, #49152
 639 01ec 42F08002 		orr	r2, r2, #128
 640 01f0 1A80     		strh	r2, [r3]	@ movhi
 641              	.LBB30:
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 642              		.loc 1 1774 7 is_stmt 1 discriminator 3 view .LVU160
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 643              		.loc 1 1774 7 discriminator 3 view .LVU161
 644 01f2 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 645 01f4 344B     		ldr	r3, .L56+4
 646 01f6 30F82250 		ldrh	r5, [r0, r2, lsl #2]
 647              	.LVL32:
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 648              		.loc 1 1774 7 discriminator 3 view .LVU162
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 649              		.loc 1 1774 7 discriminator 3 view .LVU163
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 650              		.loc 1 1774 7 discriminator 3 view .LVU164
 651 01fa 2B40     		ands	r3, r3, r5
 652 01fc 2343     		orrs	r3, r3, r4
 653 01fe 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 45


 654              	.LBE30:
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 655              		.loc 1 1774 57 discriminator 3 view .LVU165
 656              	.LBB31:
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 657              		.loc 1 1775 7 discriminator 3 view .LVU166
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 658              		.loc 1 1775 7 discriminator 3 view .LVU167
 659 0202 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 660 0204 314B     		ldr	r3, .L56+8
 661 0206 30F82210 		ldrh	r1, [r0, r2, lsl #2]
 662              	.LVL33:
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 663              		.loc 1 1775 7 discriminator 3 view .LVU168
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 664              		.loc 1 1775 7 discriminator 3 view .LVU169
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 665              		.loc 1 1775 7 discriminator 3 view .LVU170
 666 020a 0B40     		ands	r3, r3, r1
 667 020c 1C43     		orrs	r4, r4, r3
 668 020e 20F82240 		strh	r4, [r0, r2, lsl #2]	@ movhi
 669              	.LBE31:
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 670              		.loc 1 1775 57 discriminator 3 view .LVU171
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 671              		.loc 1 1779 3 discriminator 3 view .LVU172
 672              		.loc 1 1780 1 is_stmt 0 discriminator 3 view .LVU173
 673 0212 0020     		movs	r0, #0
 674              	.LVL34:
 675              		.loc 1 1780 1 discriminator 3 view .LVU174
 676 0214 70BC     		pop	{r4, r5, r6}
 677              	.LCFI11:
 678              		.cfi_remember_state
 679              		.cfi_restore 6
 680              		.cfi_restore 5
 681              		.cfi_restore 4
 682              		.cfi_def_cfa_offset 0
 683              	.LVL35:
 684              		.loc 1 1780 1 discriminator 3 view .LVU175
 685 0216 7047     		bx	lr
 686              	.LVL36:
 687              	.L19:
 688              	.LCFI12:
 689              		.cfi_restore_state
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set the endpoint Receive buffer counter*/
 690              		.loc 1 1739 7 is_stmt 1 view .LVU176
 691 0218 B0F85050 		ldrh	r5, [r0, #80]
 692              	.LBB32:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 693              		.loc 1 1741 7 is_stmt 0 view .LVU177
 694 021c B0F85040 		ldrh	r4, [r0, #80]
 695              	.LBE32:
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set the endpoint Receive buffer counter*/
 696              		.loc 1 1739 7 view .LVU178
 697 0220 2B44     		add	r3, r3, r5
 698 0222 0433     		adds	r3, r3, #4
 699 0224 46F81320 		str	r2, [r6, r3, lsl #1]
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 46


 700              	.LBB37:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 701              		.loc 1 1741 7 is_stmt 1 view .LVU179
 702              	.LBB33:
 703 0228 0A69     		ldr	r2, [r1, #16]
 704              	.LBE33:
 705 022a 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 706 022c A31D     		adds	r3, r4, #6
 707              	.LBB34:
 708 022e 3E2A     		cmp	r2, #62
 709              	.LBE34:
 710 0230 03EBC503 		add	r3, r3, r5, lsl #3
 711              	.LVL37:
 712              	.LBB35:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 713              		.loc 1 1741 7 view .LVU180
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 714              		.loc 1 1741 7 view .LVU181
 715 0234 2BD8     		bhi	.L55
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 716              		.loc 1 1741 7 discriminator 2 view .LVU182
 717 0236 C2F34F04 		ubfx	r4, r2, #1, #16
 718              	.LVL38:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 719              		.loc 1 1741 7 discriminator 2 view .LVU183
 720 023a D507     		lsls	r5, r2, #31
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 721              		.loc 1 1741 7 discriminator 2 view .LVU184
 722 023c 44BF     		itt	mi
 723 023e 0134     		addmi	r4, r4, #1
 724              	.LVL39:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 725              		.loc 1 1741 7 is_stmt 0 discriminator 2 view .LVU185
 726 0240 A4B2     		uxthmi	r4, r4
 727              	.LVL40:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 728              		.loc 1 1741 7 is_stmt 1 discriminator 2 view .LVU186
 729 0242 A402     		lsls	r4, r4, #10
 730              	.LVL41:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 731              		.loc 1 1741 7 is_stmt 0 discriminator 2 view .LVU187
 732 0244 A4B2     		uxth	r4, r4
 733 0246 46F81340 		str	r4, [r6, r3, lsl #1]
 734              	.LVL42:
 735              	.L24:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 736              		.loc 1 1741 7 is_stmt 1 discriminator 10 view .LVU188
 737              	.LBE35:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 738              		.loc 1 1741 7 discriminator 10 view .LVU189
 739              	.LBE37:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 740              		.loc 1 1741 54 discriminator 10 view .LVU190
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint*/
 741              		.loc 1 1742 7 discriminator 10 view .LVU191
 742 024a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 743              	.LVL43:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 47


1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint*/
 744              		.loc 1 1742 7 is_stmt 0 discriminator 10 view .LVU192
 745 024c 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 746 0250 00EB8302 		add	r2, r0, r3, lsl #2
 747 0254 6404     		lsls	r4, r4, #17
 748 0256 0DD5     		bpl	.L26
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint*/
 749              		.loc 1 1742 7 is_stmt 1 discriminator 1 view .LVU193
 750 0258 40F60F72 		movw	r2, #3855
 751 025c 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 752 0260 2240     		ands	r2, r2, r4
 753 0262 42F44042 		orr	r2, r2, #49152
 754 0266 42F08002 		orr	r2, r2, #128
 755 026a 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 756 026e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 757 0270 00EB8202 		add	r2, r0, r2, lsl #2
 758              	.L26:
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint*/
 759              		.loc 1 1742 39 discriminator 3 view .LVU194
 760              	.LBB38:
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 761              		.loc 1 1744 7 discriminator 3 view .LVU195
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 762              		.loc 1 1744 7 discriminator 3 view .LVU196
 763 0274 1188     		ldrh	r1, [r2]
 764              	.LVL44:
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 765              		.loc 1 1744 7 is_stmt 0 discriminator 3 view .LVU197
 766 0276 154B     		ldr	r3, .L56+8
 767              	.LBE38:
 768              		.loc 1 1780 1 discriminator 3 view .LVU198
 769 0278 0020     		movs	r0, #0
 770              	.LVL45:
 771              		.loc 1 1780 1 discriminator 3 view .LVU199
 772 027a 70BC     		pop	{r4, r5, r6}
 773              	.LCFI13:
 774              		.cfi_remember_state
 775              		.cfi_restore 6
 776              		.cfi_restore 5
 777              		.cfi_restore 4
 778              		.cfi_def_cfa_offset 0
 779              	.LVL46:
 780              	.LBB39:
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 781              		.loc 1 1744 7 discriminator 3 view .LVU200
 782 027c 0B40     		ands	r3, r3, r1
 783              	.LVL47:
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 784              		.loc 1 1744 7 is_stmt 1 discriminator 3 view .LVU201
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 785              		.loc 1 1744 7 discriminator 3 view .LVU202
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 786              		.loc 1 1744 7 discriminator 3 view .LVU203
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 787              		.loc 1 1744 7 discriminator 3 view .LVU204
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 788              		.loc 1 1744 7 discriminator 3 view .LVU205
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 48


 789 027e 83F44053 		eor	r3, r3, #12288
 790              	.LVL48:
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 791              		.loc 1 1744 7 is_stmt 0 discriminator 3 view .LVU206
 792 0282 43F40043 		orr	r3, r3, #32768
 793              	.LVL49:
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 794              		.loc 1 1744 7 discriminator 3 view .LVU207
 795 0286 43F08003 		orr	r3, r3, #128
 796 028a 1380     		strh	r3, [r2]	@ movhi
 797              	.LBE39:
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 798              		.loc 1 1775 57 is_stmt 1 discriminator 3 view .LVU208
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 799              		.loc 1 1779 3 discriminator 3 view .LVU209
 800              		.loc 1 1780 1 is_stmt 0 discriminator 3 view .LVU210
 801 028c 7047     		bx	lr
 802              	.LVL50:
 803              	.L55:
 804              	.LCFI14:
 805              		.cfi_restore_state
 806              	.LBB40:
 807              	.LBB36:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 808              		.loc 1 1741 7 is_stmt 1 discriminator 1 view .LVU211
 809 028e C2F34F14 		ubfx	r4, r2, #5, #16
 810              	.LVL51:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 811              		.loc 1 1741 7 discriminator 1 view .LVU212
 812 0292 D206     		lsls	r2, r2, #27
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 813              		.loc 1 1741 7 discriminator 1 view .LVU213
 814 0294 04BF     		itt	eq
 815 0296 04F1FF32 		addeq	r2, r4, #-1
 816 029a 94B2     		uxtheq	r4, r2
 817              	.LVL52:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 818              		.loc 1 1741 7 discriminator 1 view .LVU214
 819 029c 0C4A     		ldr	r2, .L56+12
 820 029e 42EA8422 		orr	r2, r2, r4, lsl #10
 821 02a2 92B2     		uxth	r2, r2
 822 02a4 46F81320 		str	r2, [r6, r3, lsl #1]
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 823              		.loc 1 1741 7 discriminator 1 view .LVU215
 824 02a8 CFE7     		b	.L24
 825              	.LVL53:
 826              	.L54:
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 827              		.loc 1 1741 7 is_stmt 0 discriminator 1 view .LVU216
 828              	.LBE36:
 829              	.LBE40:
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 830              		.loc 1 1759 7 is_stmt 1 discriminator 1 view .LVU217
 831 02aa 40F60F72 		movw	r2, #3855
 832 02ae 1C88     		ldrh	r4, [r3]
 833 02b0 2240     		ands	r2, r2, r4
 834 02b2 42F40042 		orr	r2, r2, #32768
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 49


 835 02b6 42F0C002 		orr	r2, r2, #192
 836 02ba 1A80     		strh	r2, [r3]	@ movhi
 837 02bc 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 838 02be 00EB8303 		add	r3, r0, r3, lsl #2
 839 02c2 2AE7     		b	.L29
 840              	.L57:
 841              		.align	2
 842              	.L56:
 843 02c4 8F89FFFF 		.word	-30321
 844 02c8 BF8FFFFF 		.word	-28737
 845 02cc 8FBFFFFF 		.word	-16497
 846 02d0 0080FFFF 		.word	-32768
 847              		.cfi_endproc
 848              	.LFE73:
 850              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 851              		.align	1
 852              		.p2align 2,,3
 853              		.global	USB_DeactivateEndpoint
 854              		.syntax unified
 855              		.thumb
 856              		.thumb_func
 857              		.fpu softvfp
 859              	USB_DeactivateEndpoint:
 860              	.LVL54:
 861              	.LFB74:
1781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
1784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
1786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_TypeDef *USBx, USB_EPTypeDef *ep)
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 862              		.loc 1 1789 1 view -0
 863              		.cfi_startproc
 864              		@ args = 0, pretend = 0, frame = 0
 865              		@ frame_needed = 0, uses_anonymous_args = 0
 866              		@ link register save eliminated.
1790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->doublebuffer == 0) 
 867              		.loc 1 1790 3 view .LVU219
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->doublebuffer == 0) 
 868              		.loc 1 1789 1 is_stmt 0 view .LVU220
 869 0000 30B4     		push	{r4, r5}
 870              	.LCFI15:
 871              		.cfi_def_cfa_offset 8
 872              		.cfi_offset 4, -8
 873              		.cfi_offset 5, -4
 874 0002 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 875              		.loc 1 1790 6 view .LVU221
 876 0004 8D7A     		ldrb	r5, [r1, #10]	@ zero_extendqisi2
 877 0006 00EB8203 		add	r3, r0, r2, lsl #2
 878 000a 4C78     		ldrb	r4, [r1, #1]	@ zero_extendqisi2
 879 000c 6DBB     		cbnz	r5, .L59
1791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->is_in)
 880              		.loc 1 1792 5 is_stmt 1 view .LVU222
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 50


 881              		.loc 1 1792 8 is_stmt 0 view .LVU223
 882 000e 7CB1     		cbz	r4, .L60
1793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 883              		.loc 1 1794 7 is_stmt 1 view .LVU224
 884 0010 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 885 0014 6406     		lsls	r4, r4, #25
 886 0016 00F1A880 		bmi	.L88
 887              	.L61:
 888              		.loc 1 1794 39 discriminator 3 view .LVU225
 889              	.LBB41:
1795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS); 
 890              		.loc 1 1796 7 discriminator 3 view .LVU226
 891              		.loc 1 1796 7 discriminator 3 view .LVU227
 892              	.LBE41:
1797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
1801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
1803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /*Double Buffer*/
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
1807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   { 
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->is_in==0)
1809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Reset value of the data toggle bits for the endpoint out*/
1815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_TX_DTOG(USBx, ep->num);
1816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
1825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
1826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
1829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 893              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU228
 894 001a 30BC     		pop	{r4, r5}
 895              	.LCFI16:
 896              		.cfi_remember_state
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 51


 897              		.cfi_restore 5
 898              		.cfi_restore 4
 899              		.cfi_def_cfa_offset 0
 900              	.LBB42:
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 901              		.loc 1 1796 7 discriminator 3 view .LVU229
 902 001c 1988     		ldrh	r1, [r3]
 903              	.LVL55:
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 904              		.loc 1 1796 7 is_stmt 1 discriminator 3 view .LVU230
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 905              		.loc 1 1796 7 discriminator 3 view .LVU231
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 906              		.loc 1 1796 7 discriminator 3 view .LVU232
 907 001e 5A4A     		ldr	r2, .L89
 908              	.LBE42:
 909              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU233
 910 0020 0020     		movs	r0, #0
 911              	.LVL56:
 912              	.LBB43:
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 913              		.loc 1 1796 7 discriminator 3 view .LVU234
 914 0022 0A40     		ands	r2, r2, r1
 915 0024 42F40042 		orr	r2, r2, #32768
 916 0028 42F08002 		orr	r2, r2, #128
 917 002c 1A80     		strh	r2, [r3]	@ movhi
 918              	.LBE43:
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 919              		.loc 1 1796 57 is_stmt 1 discriminator 3 view .LVU235
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 920              		.loc 1 1828 57 discriminator 3 view .LVU236
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 921              		.loc 1 1832 3 discriminator 3 view .LVU237
 922              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU238
 923 002e 7047     		bx	lr
 924              	.LVL57:
 925              	.L60:
 926              	.LCFI17:
 927              		.cfi_restore_state
1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 928              		.loc 1 1800 7 is_stmt 1 view .LVU239
 929 0030 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 930 0034 6504     		lsls	r5, r4, #17
 931 0036 0DD5     		bpl	.L63
1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 932              		.loc 1 1800 7 discriminator 1 view .LVU240
 933 0038 40F60F73 		movw	r3, #3855
 934 003c 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 935 0040 2340     		ands	r3, r3, r4
 936 0042 43F44043 		orr	r3, r3, #49152
 937 0046 43F08003 		orr	r3, r3, #128
 938 004a 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 939 004e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 940 0050 00EB8303 		add	r3, r0, r3, lsl #2
 941              	.L63:
1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 942              		.loc 1 1800 39 discriminator 3 view .LVU241
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 52


 943              	.LBB44:
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 944              		.loc 1 1802 7 discriminator 3 view .LVU242
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 945              		.loc 1 1802 7 discriminator 3 view .LVU243
 946 0054 1988     		ldrh	r1, [r3]
 947              	.LVL58:
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 948              		.loc 1 1802 7 discriminator 3 view .LVU244
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 949              		.loc 1 1802 7 discriminator 3 view .LVU245
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 950              		.loc 1 1802 7 discriminator 3 view .LVU246
 951 0056 4D4A     		ldr	r2, .L89+4
 952              	.LBE44:
 953              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU247
 954 0058 0020     		movs	r0, #0
 955              	.LVL59:
 956              		.loc 1 1833 1 discriminator 3 view .LVU248
 957 005a 30BC     		pop	{r4, r5}
 958              	.LCFI18:
 959              		.cfi_remember_state
 960              		.cfi_restore 5
 961              		.cfi_restore 4
 962              		.cfi_def_cfa_offset 0
 963              	.LBB45:
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 964              		.loc 1 1802 7 discriminator 3 view .LVU249
 965 005c 0A40     		ands	r2, r2, r1
 966 005e 42F40042 		orr	r2, r2, #32768
 967 0062 42F08002 		orr	r2, r2, #128
 968 0066 1A80     		strh	r2, [r3]	@ movhi
 969              	.LBE45:
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 970              		.loc 1 1828 57 is_stmt 1 discriminator 3 view .LVU250
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 971              		.loc 1 1832 3 discriminator 3 view .LVU251
 972              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU252
 973 0068 7047     		bx	lr
 974              	.LVL60:
 975              	.L59:
 976              	.LCFI19:
 977              		.cfi_restore_state
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 978              		.loc 1 1808 5 is_stmt 1 view .LVU253
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 979              		.loc 1 1808 8 is_stmt 0 view .LVU254
 980 006a 002C     		cmp	r4, #0
 981 006c 3ED1     		bne	.L64
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 982              		.loc 1 1811 7 is_stmt 1 view .LVU255
 983 006e 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 984 0072 6404     		lsls	r4, r4, #17
 985 0074 0DD5     		bpl	.L65
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 986              		.loc 1 1811 7 discriminator 1 view .LVU256
 987 0076 40F60F73 		movw	r3, #3855
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 53


 988 007a 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 989 007e 2340     		ands	r3, r3, r4
 990 0080 43F44043 		orr	r3, r3, #49152
 991 0084 43F08003 		orr	r3, r3, #128
 992 0088 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 993 008c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 994 008e 00EB8303 		add	r3, r0, r3, lsl #2
 995              	.L65:
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 996              		.loc 1 1811 39 discriminator 3 view .LVU257
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 997              		.loc 1 1812 7 discriminator 3 view .LVU258
 998 0092 1A88     		ldrh	r2, [r3]
 999 0094 5506     		lsls	r5, r2, #25
 1000 0096 0BD5     		bpl	.L66
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 1001              		.loc 1 1812 7 discriminator 1 view .LVU259
 1002 0098 40F60F72 		movw	r2, #3855
 1003 009c 1C88     		ldrh	r4, [r3]
 1004 009e 2240     		ands	r2, r2, r4
 1005 00a0 42F40042 		orr	r2, r2, #32768
 1006 00a4 42F0C002 		orr	r2, r2, #192
 1007 00a8 1A80     		strh	r2, [r3]	@ movhi
 1008 00aa 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1009 00ac 00EB8303 		add	r3, r0, r3, lsl #2
 1010              	.L66:
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 1011              		.loc 1 1812 39 discriminator 3 view .LVU260
1815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 1012              		.loc 1 1815 7 discriminator 3 view .LVU261
 1013 00b0 40F60F72 		movw	r2, #3855
 1014              	.LBB46:
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1015              		.loc 1 1817 7 is_stmt 0 discriminator 3 view .LVU262
 1016 00b4 48F28004 		movw	r4, #32896
 1017              	.LBE46:
1815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       
 1018              		.loc 1 1815 7 discriminator 3 view .LVU263
 1019 00b8 1D88     		ldrh	r5, [r3]
 1020 00ba 2A40     		ands	r2, r2, r5
 1021 00bc 42F40042 		orr	r2, r2, #32768
 1022 00c0 42F0C002 		orr	r2, r2, #192
 1023 00c4 1A80     		strh	r2, [r3]	@ movhi
 1024              	.LBB47:
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1025              		.loc 1 1817 7 is_stmt 1 discriminator 3 view .LVU264
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1026              		.loc 1 1817 7 discriminator 3 view .LVU265
 1027 00c6 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1028 00c8 304B     		ldr	r3, .L89+4
 1029 00ca 30F82250 		ldrh	r5, [r0, r2, lsl #2]
 1030              	.LVL61:
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1031              		.loc 1 1817 7 discriminator 3 view .LVU266
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1032              		.loc 1 1817 7 discriminator 3 view .LVU267
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 54


 1033              		.loc 1 1817 7 discriminator 3 view .LVU268
 1034 00ce 2B40     		ands	r3, r3, r5
 1035 00d0 2343     		orrs	r3, r3, r4
 1036 00d2 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1037              	.LBE47:
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1038              		.loc 1 1817 57 discriminator 3 view .LVU269
 1039              	.LBB48:
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1040              		.loc 1 1818 7 discriminator 3 view .LVU270
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1041              		.loc 1 1818 7 discriminator 3 view .LVU271
 1042 00d6 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1043 00d8 2B4B     		ldr	r3, .L89
 1044 00da 30F82210 		ldrh	r1, [r0, r2, lsl #2]
 1045              	.LVL62:
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1046              		.loc 1 1818 7 discriminator 3 view .LVU272
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1047              		.loc 1 1818 7 discriminator 3 view .LVU273
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1048              		.loc 1 1818 7 discriminator 3 view .LVU274
 1049 00de 0B40     		ands	r3, r3, r1
 1050 00e0 1C43     		orrs	r4, r4, r3
 1051 00e2 20F82240 		strh	r4, [r0, r2, lsl #2]	@ movhi
 1052              	.LBE48:
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1053              		.loc 1 1818 57 discriminator 3 view .LVU275
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1054              		.loc 1 1828 57 discriminator 3 view .LVU276
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1055              		.loc 1 1832 3 discriminator 3 view .LVU277
 1056              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU278
 1057 00e6 0020     		movs	r0, #0
 1058              	.LVL63:
 1059              		.loc 1 1833 1 discriminator 3 view .LVU279
 1060 00e8 30BC     		pop	{r4, r5}
 1061              	.LCFI20:
 1062              		.cfi_remember_state
 1063              		.cfi_restore 5
 1064              		.cfi_restore 4
 1065              		.cfi_def_cfa_offset 0
 1066              	.LVL64:
 1067              		.loc 1 1833 1 discriminator 3 view .LVU280
 1068 00ea 7047     		bx	lr
 1069              	.LVL65:
 1070              	.L64:
 1071              	.LCFI21:
 1072              		.cfi_restore_state
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1073              		.loc 1 1823 7 is_stmt 1 view .LVU281
 1074 00ec 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 1075 00f0 6404     		lsls	r4, r4, #17
 1076 00f2 0DD5     		bpl	.L67
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1077              		.loc 1 1823 7 discriminator 1 view .LVU282
 1078 00f4 40F60F73 		movw	r3, #3855
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 55


 1079 00f8 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 1080 00fc 2340     		ands	r3, r3, r4
 1081 00fe 43F44043 		orr	r3, r3, #49152
 1082 0102 43F08003 		orr	r3, r3, #128
 1083 0106 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1084 010a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1085 010c 00EB8303 		add	r3, r0, r3, lsl #2
 1086              	.L67:
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1087              		.loc 1 1823 39 discriminator 3 view .LVU283
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 1088              		.loc 1 1824 7 discriminator 3 view .LVU284
 1089 0110 1A88     		ldrh	r2, [r3]
 1090 0112 5206     		lsls	r2, r2, #25
 1091 0114 0BD5     		bpl	.L68
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 1092              		.loc 1 1824 7 discriminator 1 view .LVU285
 1093 0116 40F60F72 		movw	r2, #3855
 1094 011a 1C88     		ldrh	r4, [r3]
 1095 011c 2240     		ands	r2, r2, r4
 1096 011e 42F40042 		orr	r2, r2, #32768
 1097 0122 42F0C002 		orr	r2, r2, #192
 1098 0126 1A80     		strh	r2, [r3]	@ movhi
 1099 0128 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1100 012a 00EB8303 		add	r3, r0, r3, lsl #2
 1101              	.L68:
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 1102              		.loc 1 1824 39 discriminator 3 view .LVU286
1825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 1103              		.loc 1 1825 7 discriminator 3 view .LVU287
 1104 012e 40F60F72 		movw	r2, #3855
 1105              	.LBB49:
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1106              		.loc 1 1827 7 is_stmt 0 discriminator 3 view .LVU288
 1107 0132 48F28004 		movw	r4, #32896
 1108              	.LBE49:
1825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 1109              		.loc 1 1825 7 discriminator 3 view .LVU289
 1110 0136 1D88     		ldrh	r5, [r3]
 1111 0138 2A40     		ands	r2, r2, r5
 1112 013a 42F44042 		orr	r2, r2, #49152
 1113 013e 42F08002 		orr	r2, r2, #128
 1114 0142 1A80     		strh	r2, [r3]	@ movhi
 1115              	.LBB50:
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1116              		.loc 1 1827 7 is_stmt 1 discriminator 3 view .LVU290
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1117              		.loc 1 1827 7 discriminator 3 view .LVU291
 1118 0144 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1119 0146 104B     		ldr	r3, .L89
 1120 0148 30F82250 		ldrh	r5, [r0, r2, lsl #2]
 1121              	.LVL66:
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1122              		.loc 1 1827 7 discriminator 3 view .LVU292
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1123              		.loc 1 1827 7 discriminator 3 view .LVU293
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 56


 1124              		.loc 1 1827 7 discriminator 3 view .LVU294
 1125 014c 2B40     		ands	r3, r3, r5
 1126 014e 2343     		orrs	r3, r3, r4
 1127 0150 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1128              	.LBE50:
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1129              		.loc 1 1827 57 discriminator 3 view .LVU295
 1130              	.LBB51:
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1131              		.loc 1 1828 7 discriminator 3 view .LVU296
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1132              		.loc 1 1828 7 discriminator 3 view .LVU297
 1133 0154 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1134 0156 0D4B     		ldr	r3, .L89+4
 1135 0158 30F82210 		ldrh	r1, [r0, r2, lsl #2]
 1136              	.LVL67:
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1137              		.loc 1 1828 7 discriminator 3 view .LVU298
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1138              		.loc 1 1828 7 discriminator 3 view .LVU299
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1139              		.loc 1 1828 7 discriminator 3 view .LVU300
 1140 015c 0B40     		ands	r3, r3, r1
 1141 015e 1C43     		orrs	r4, r4, r3
 1142 0160 20F82240 		strh	r4, [r0, r2, lsl #2]	@ movhi
 1143              	.LBE51:
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1144              		.loc 1 1828 57 discriminator 3 view .LVU301
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1145              		.loc 1 1832 3 discriminator 3 view .LVU302
 1146              		.loc 1 1833 1 is_stmt 0 discriminator 3 view .LVU303
 1147 0164 0020     		movs	r0, #0
 1148              	.LVL68:
 1149              		.loc 1 1833 1 discriminator 3 view .LVU304
 1150 0166 30BC     		pop	{r4, r5}
 1151              	.LCFI22:
 1152              		.cfi_remember_state
 1153              		.cfi_restore 5
 1154              		.cfi_restore 4
 1155              		.cfi_def_cfa_offset 0
 1156              	.LVL69:
 1157              		.loc 1 1833 1 discriminator 3 view .LVU305
 1158 0168 7047     		bx	lr
 1159              	.LVL70:
 1160              	.L88:
 1161              	.LCFI23:
 1162              		.cfi_restore_state
1794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 1163              		.loc 1 1794 7 is_stmt 1 discriminator 1 view .LVU306
 1164 016a 40F60F73 		movw	r3, #3855
 1165 016e 30F82240 		ldrh	r4, [r0, r2, lsl #2]
 1166 0172 2340     		ands	r3, r3, r4
 1167 0174 43F40043 		orr	r3, r3, #32768
 1168 0178 43F0C003 		orr	r3, r3, #192
 1169 017c 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1170 0180 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1171 0182 00EB8303 		add	r3, r0, r3, lsl #2
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 57


 1172 0186 48E7     		b	.L61
 1173              	.L90:
 1174              		.align	2
 1175              	.L89:
 1176 0188 BF8FFFFF 		.word	-28737
 1177 018c 8FBFFFFF 		.word	-16497
 1178              		.cfi_endproc
 1179              	.LFE74:
 1181              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1182              		.align	1
 1183              		.p2align 2,,3
 1184              		.global	USB_EPStartXfer
 1185              		.syntax unified
 1186              		.thumb
 1187              		.thumb_func
 1188              		.fpu softvfp
 1190              	USB_EPStartXfer:
 1191              	.LVL71:
 1192              	.LFB75:
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
1837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_TypeDef *USBx , USB_EPTypeDef *ep)
1842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 1193              		.loc 1 1842 1 view -0
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 0
 1196              		@ frame_needed = 0, uses_anonymous_args = 0
 1197              		@ link register save eliminated.
1843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t pmabuffer = 0;
 1198              		.loc 1 1843 3 view .LVU308
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t len = ep->xfer_len;
 1199              		.loc 1 1844 3 view .LVU309
1842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t pmabuffer = 0;
 1200              		.loc 1 1842 1 is_stmt 0 view .LVU310
 1201 0000 F0B4     		push	{r4, r5, r6, r7}
 1202              	.LCFI24:
 1203              		.cfi_def_cfa_offset 16
 1204              		.cfi_offset 4, -16
 1205              		.cfi_offset 5, -12
 1206              		.cfi_offset 6, -8
 1207              		.cfi_offset 7, -4
1845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* IN endpoint */
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in == 1)
 1208              		.loc 1 1847 9 view .LVU311
 1209 0002 4C78     		ldrb	r4, [r1, #1]	@ zero_extendqisi2
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 1210              		.loc 1 1844 12 view .LVU312
 1211 0004 8E69     		ldr	r6, [r1, #24]
 1212              	.LVL72:
 1213              		.loc 1 1847 3 is_stmt 1 view .LVU313
 1214              		.loc 1 1847 6 is_stmt 0 view .LVU314
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 58


 1215 0006 012C     		cmp	r4, #1
 1216 0008 0B69     		ldr	r3, [r1, #16]
 1217 000a 58D0     		beq	.L132
1848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /*Multi packet transfer*/
1850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len > ep->maxpacket)
1851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       len=ep->maxpacket;
1853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len-=len; 
1854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {  
1857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       len=ep->xfer_len;
1858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len =0;
1859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* configure and validate Tx endpoint */
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->doublebuffer == 0) 
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USB_WritePMA(USBx, ep->xfer_buff, ep->pmaadress, len);
1865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_CNT(USBx, ep->num, len);
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /* Write the data to the USB endpoint */
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       if (PCD_GET_ENDPOINT(USBx, ep->num)& USB_EP_DTOG_TX)
1871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         /* Set the Double buffer counter for pmabuffer1 */
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
1874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr1;
1875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
1876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       else
1877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         /* Set the Double buffer counter for pmabuffer0 */
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
1880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr0;
1881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
1882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, len);
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_FreeUserBuffer(USBx, ep->num, ep->is_in);
1884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
1887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else /* OUT endpoint */
1889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* Multi packet transfer*/
1891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->xfer_len > ep->maxpacket)
 1218              		.loc 1 1891 5 is_stmt 1 view .LVU315
 1219              		.loc 1 1891 8 is_stmt 0 view .LVU316
 1220 000c 9E42     		cmp	r6, r3
1892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       len=ep->maxpacket;
 1221              		.loc 1 1893 7 is_stmt 1 view .LVU317
 1222              	.LVL73:
1894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len-=len; 
 1223              		.loc 1 1894 7 view .LVU318
1895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 59


1896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       len=ep->xfer_len;
1899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len =0;
 1224              		.loc 1 1899 20 is_stmt 0 view .LVU319
 1225 000e 92BF     		itee	ls
 1226 0010 0022     		movls	r2, #0
1894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len-=len; 
 1227              		.loc 1 1894 19 view .LVU320
 1228 0012 F21A     		subhi	r2, r6, r3
 1229 0014 1E46     		movhi	r6, r3
1900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* configure and validate Rx endpoint */
1903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->doublebuffer == 0) 
 1230              		.loc 1 1903 8 view .LVU321
 1231 0016 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 1232              	.LVL74:
 1233              		.loc 1 1903 8 view .LVU322
 1234 0018 8A61     		str	r2, [r1, #24]
 1235              		.loc 1 1903 5 is_stmt 1 view .LVU323
 1236 001a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1237              		.loc 1 1903 8 is_stmt 0 view .LVU324
 1238 001c 3BBB     		cbnz	r3, .L106
 1239              	.LBB52:
1904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set RX buffer count*/
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_CNT(USBx, ep->num, len);
 1240              		.loc 1 1906 7 is_stmt 1 view .LVU325
 1241 001e B0F85030 		ldrh	r3, [r0, #80]
 1242              	.LBB53:
 1243 0022 3E2E     		cmp	r6, #62
 1244              	.LBE53:
 1245 0024 03F10603 		add	r3, r3, #6
 1246 0028 00F58064 		add	r4, r0, #1024
 1247 002c 03EBC202 		add	r2, r3, r2, lsl #3
 1248              	.LVL75:
 1249              	.LBB54:
 1250              		.loc 1 1906 7 view .LVU326
 1251              		.loc 1 1906 7 view .LVU327
 1252 0030 40F2A180 		bls	.L107
 1253              		.loc 1 1906 7 discriminator 1 view .LVU328
 1254 0034 C6F34F15 		ubfx	r5, r6, #5, #16
 1255              	.LVL76:
 1256              		.loc 1 1906 7 discriminator 1 view .LVU329
 1257 0038 F606     		lsls	r6, r6, #27
 1258              		.loc 1 1906 7 discriminator 1 view .LVU330
 1259 003a 04BF     		itt	eq
 1260 003c 05F1FF33 		addeq	r3, r5, #-1
 1261 0040 9DB2     		uxtheq	r5, r3
 1262              	.LVL77:
 1263              		.loc 1 1906 7 discriminator 1 view .LVU331
 1264 0042 694B     		ldr	r3, .L134
 1265 0044 43EA8523 		orr	r3, r3, r5, lsl #10
 1266 0048 9BB2     		uxth	r3, r3
 1267 004a 44F81230 		str	r3, [r4, r2, lsl #1]
 1268              	.LVL78:
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 60


 1269              		.loc 1 1906 7 discriminator 1 view .LVU332
 1270 004e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1271              	.LVL79:
 1272              	.L109:
 1273              		.loc 1 1906 7 is_stmt 0 discriminator 1 view .LVU333
 1274              	.LBE54:
 1275              	.LBE52:
1907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       /*Set the Double buffer counter*/
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_DBUF_CNT(USBx, ep->num, ep->is_in, len);
 1276              		.loc 1 1911 7 is_stmt 1 discriminator 30 view .LVU334
 1277              		.loc 1 1911 57 discriminator 30 view .LVU335
 1278              	.LBB56:
1912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 1279              		.loc 1 1914 5 discriminator 30 view .LVU336
 1280              		.loc 1 1914 5 discriminator 30 view .LVU337
 1281 0050 30F82210 		ldrh	r1, [r0, r2, lsl #2]
 1282              	.LVL80:
 1283              		.loc 1 1914 5 is_stmt 0 discriminator 30 view .LVU338
 1284 0054 654B     		ldr	r3, .L134+4
 1285              	.LBE56:
1915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
1917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1286              		.loc 1 1918 1 discriminator 30 view .LVU339
 1287 0056 F0BC     		pop	{r4, r5, r6, r7}
 1288              	.LCFI25:
 1289              		.cfi_remember_state
 1290              		.cfi_restore 7
 1291              		.cfi_restore 6
 1292              		.cfi_restore 5
 1293              		.cfi_restore 4
 1294              		.cfi_def_cfa_offset 0
 1295              	.LBB57:
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1296              		.loc 1 1914 5 discriminator 30 view .LVU340
 1297 0058 0B40     		ands	r3, r3, r1
 1298              	.LVL81:
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1299              		.loc 1 1914 5 is_stmt 1 discriminator 30 view .LVU341
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1300              		.loc 1 1914 5 discriminator 30 view .LVU342
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1301              		.loc 1 1914 5 discriminator 30 view .LVU343
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1302              		.loc 1 1914 5 discriminator 30 view .LVU344
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1303              		.loc 1 1914 5 discriminator 30 view .LVU345
 1304 005a 83F44053 		eor	r3, r3, #12288
 1305              	.LVL82:
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1306              		.loc 1 1914 5 is_stmt 0 discriminator 30 view .LVU346
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 61


 1307 005e 43F40043 		orr	r3, r3, #32768
 1308              	.LVL83:
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1309              		.loc 1 1914 5 discriminator 30 view .LVU347
 1310 0062 43F08003 		orr	r3, r3, #128
 1311 0066 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1312              	.LBE57:
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1313              		.loc 1 1914 57 is_stmt 1 discriminator 30 view .LVU348
1917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1314              		.loc 1 1917 3 discriminator 30 view .LVU349
 1315              		.loc 1 1918 1 is_stmt 0 discriminator 30 view .LVU350
 1316 006a 0020     		movs	r0, #0
 1317              	.LVL84:
 1318              		.loc 1 1918 1 discriminator 30 view .LVU351
 1319 006c 7047     		bx	lr
 1320              	.LVL85:
 1321              	.L106:
 1322              	.LCFI26:
 1323              		.cfi_restore_state
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1324              		.loc 1 1911 7 is_stmt 1 view .LVU352
 1325 006e 002C     		cmp	r4, #0
 1326 0070 EED1     		bne	.L109
 1327              	.LBB58:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1328              		.loc 1 1911 7 discriminator 1 view .LVU353
 1329 0072 B0F85030 		ldrh	r3, [r0, #80]
 1330              	.LBB59:
 1331 0076 3E2E     		cmp	r6, #62
 1332              	.LBE59:
 1333 0078 03F10203 		add	r3, r3, #2
 1334 007c 00F58064 		add	r4, r0, #1024
 1335 0080 03EBC202 		add	r2, r3, r2, lsl #3
 1336              	.LVL86:
 1337              	.LBB60:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1338              		.loc 1 1911 7 discriminator 1 view .LVU354
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1339              		.loc 1 1911 7 discriminator 1 view .LVU355
 1340 0084 40F29480 		bls	.L111
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1341              		.loc 1 1911 7 discriminator 3 view .LVU356
 1342 0088 C6F34F15 		ubfx	r5, r6, #5, #16
 1343              	.LVL87:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1344              		.loc 1 1911 7 discriminator 3 view .LVU357
 1345 008c F706     		lsls	r7, r6, #27
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1346              		.loc 1 1911 7 discriminator 3 view .LVU358
 1347 008e 04BF     		itt	eq
 1348 0090 05F1FF33 		addeq	r3, r5, #-1
 1349              	.LVL88:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1350              		.loc 1 1911 7 is_stmt 0 discriminator 3 view .LVU359
 1351 0094 9DB2     		uxtheq	r5, r3
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 62


 1352              		.loc 1 1911 7 is_stmt 1 discriminator 3 view .LVU360
 1353 0096 544B     		ldr	r3, .L134
 1354              	.LVL89:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1355              		.loc 1 1911 7 is_stmt 0 discriminator 3 view .LVU361
 1356 0098 43EA8523 		orr	r3, r3, r5, lsl #10
 1357 009c 9BB2     		uxth	r3, r3
 1358 009e 44F81230 		str	r3, [r4, r2, lsl #1]
 1359              	.LVL90:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1360              		.loc 1 1911 7 is_stmt 1 discriminator 3 view .LVU362
 1361              	.LBE60:
 1362              	.LBE58:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1363              		.loc 1 1911 7 discriminator 3 view .LVU363
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1364              		.loc 1 1911 7 discriminator 3 view .LVU364
 1365 00a2 4D78     		ldrb	r5, [r1, #1]	@ zero_extendqisi2
 1366 00a4 002D     		cmp	r5, #0
 1367 00a6 40F09180 		bne	.L114
 1368              	.L113:
 1369              	.LBB62:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1370              		.loc 1 1911 7 view .LVU365
 1371 00aa B0F85020 		ldrh	r2, [r0, #80]
 1372              	.LVL91:
 1373              	.LBB63:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1374              		.loc 1 1911 7 view .LVU366
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1375              		.loc 1 1911 7 view .LVU367
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1376              		.loc 1 1911 7 view .LVU368
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1377              		.loc 1 1911 7 view .LVU369
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1378              		.loc 1 1911 7 view .LVU370
 1379              	.LBE63:
 1380 00ae 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 1381 00b0 0632     		adds	r2, r2, #6
 1382              	.LVL92:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1383              		.loc 1 1911 7 is_stmt 0 view .LVU371
 1384 00b2 02EBC502 		add	r2, r2, r5, lsl #3
 1385              	.LBB64:
 1386 00b6 44F81230 		str	r3, [r4, r2, lsl #1]
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1387              		.loc 1 1911 7 is_stmt 1 view .LVU372
 1388 00ba 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1389 00bc C8E7     		b	.L109
 1390              	.LVL93:
 1391              	.L132:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1392              		.loc 1 1911 7 is_stmt 0 view .LVU373
 1393              	.LBE64:
 1394              	.LBE62:
1850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 63


 1395              		.loc 1 1850 5 is_stmt 1 view .LVU374
1850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 1396              		.loc 1 1850 8 is_stmt 0 view .LVU375
 1397 00be 9E42     		cmp	r6, r3
1852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       ep->xfer_len-=len; 
 1398              		.loc 1 1852 7 is_stmt 1 view .LVU376
 1399              	.LVL94:
1853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1400              		.loc 1 1853 7 view .LVU377
1853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1401              		.loc 1 1853 19 is_stmt 0 view .LVU378
 1402 00c0 86BF     		itte	hi
 1403 00c2 F21A     		subhi	r2, r6, r3
 1404 00c4 1E46     		movhi	r6, r3
1858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1405              		.loc 1 1858 20 view .LVU379
 1406 00c6 0022     		movls	r2, #0
 1407 00c8 B3B2     		uxth	r3, r6
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 1408              		.loc 1 1862 8 view .LVU380
 1409 00ca 8C7A     		ldrb	r4, [r1, #10]	@ zero_extendqisi2
 1410 00cc 0133     		adds	r3, r3, #1
 1411 00ce 8A61     		str	r2, [r1, #24]
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 1412              		.loc 1 1862 5 is_stmt 1 view .LVU381
 1413 00d0 5B10     		asrs	r3, r3, #1
 1414 00d2 4F69     		ldr	r7, [r1, #20]
 1415 00d4 00F58062 		add	r2, r0, #1024
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 1416              		.loc 1 1862 8 is_stmt 0 view .LVU382
 1417 00d8 ACB9     		cbnz	r4, .L94
1864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_CNT(USBx, ep->num, len);
 1418              		.loc 1 1864 7 is_stmt 1 view .LVU383
 1419              	.LVL95:
 1420              	.LBB65:
 1421              	.LBI65:
1919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated 
1922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         with the EP/channel
1923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  src :  pointer to source buffer
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ch_ep_num : endpoint or host channel number
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  len : Number of bytes to write
1927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_TypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uint16_t len)
1930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(src);
1934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(ch_ep_num);
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(len);
1936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
1938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 64


1940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the Tx FIFO associated 
1945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *         with the EP/channel
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  dest : destination pointer
1948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  len : Number of bytes to read
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval pointer to destination buffer
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** void *USB_ReadPacket(USB_TypeDef *USBx, uint8_t *dest, uint16_t len)
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(dest);
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(len);
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
1958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return ((void *)NULL);
1962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
1966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure   
1968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
1970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_TypeDef *USBx , USB_EPTypeDef *ep)
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->num == 0)
1973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     /* This macro sets STALL status for RX & TX*/ 
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_TXRX_STATUS(USBx, ep->num, USB_EP_RX_STALL, USB_EP_TX_STALL); 
1976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
1978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     if (ep->is_in)
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num , USB_EP_TX_STALL); 
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     else
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num , USB_EP_RX_STALL);
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
1987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  ep: pointer to endpoint structure
1995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 65


1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_TypeDef *USBx, USB_EPTypeDef *ep)
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
1999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in)
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_CLEAR_TX_DTOG(USBx, ep->num);
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
2003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   else
2005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_CLEAR_RX_DTOG(USBx, ep->num);
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_TypeDef *USBx)
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* disable all interrupts and force USB reset */
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR = USB_CNTR_FRES;
2021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* clear interrupt status register */
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->ISTR = 0;
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* switch-off device */
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR = (USB_CNTR_FRES | USB_CNTR_PDWN);
2027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
2033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  address : new device address to be assigned
2035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress (USB_TypeDef *USBx, uint8_t address)
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if(address == 0) 
2041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
2042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    /* set device address and enable function */
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    USBx->DADDR = USB_DADDR_EF;
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
2045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
2051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 66


2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect (USB_TypeDef *USBx)
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
2067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect (USB_TypeDef *USBx)
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t  USB_ReadInterrupts (USB_TypeDef *USBx)
2087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
2089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   tmpreg = USBx->ISTR;
2091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return tmpreg;
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
2096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt (USB_TypeDef *USBx)
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return (0);
2108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 67


2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
2112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt (USB_TypeDef *USBx)
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return (0);
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  epnum : endpoint number
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
2132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt (USB_TypeDef *USBx , uint8_t epnum)
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(epnum);
2138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return (0);
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
2147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  epnum : endpoint number
2149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
2150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
2151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt (USB_TypeDef *USBx , uint8_t epnum)
2153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(epnum);
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return (0);
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  interrupt : interrupt flag
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 68


2168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval None
2169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** void  USB_ClearInterrupts (USB_TypeDef *USBx, uint32_t interrupt)
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(interrupt);
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  psetup : pointer to setup packet
2185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_TypeDef *USBx, uint8_t *psetup)
2188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(USBx);
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(psetup);
2192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
2193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****               only by USB OTG FS peripheral.
2194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****    */
2196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup : active remote wakeup signalling
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_TypeDef *USBx)
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR |= USB_CNTR_RESUME;
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup : de-active remote wakeup signalling
2213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : Selected device
2214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval HAL status
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_TypeDef *USBx)
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR &= ~(USB_CNTR_RESUME);
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
2220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Copy a buffer from user memory area to packet memory area (PMA)
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : pointer to USB register.
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 69


2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  pbUsrBuf : pointer to user memory area.
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  wPMABufAddr : address into PMA.
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  wNBytes : number of bytes to be copied.
2228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval None
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** void USB_WritePMA(USB_TypeDef *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
 1422              		.loc 1 2230 6 view .LVU384
 1423              	.LBB66:
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t nbytes = (wNBytes + 1) >> 1;   /* nbytes = (wNBytes + 1) / 2 */
 1424              		.loc 1 2232 3 view .LVU385
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0, temp1 = 0, temp2 = 0;
 1425              		.loc 1 2233 3 view .LVU386
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t *pdwVal = NULL;
 1426              		.loc 1 2234 3 view .LVU387
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   pdwVal = (uint16_t *)(wPMABufAddr * 2 + (uint32_t)USBx + 0x400);
 1427              		.loc 1 2236 3 view .LVU388
 1428              		.loc 1 2236 37 is_stmt 0 view .LVU389
 1429 00da 8C88     		ldrh	r4, [r1, #4]
 1430              		.loc 1 2236 58 view .LVU390
 1431 00dc 02EB4404 		add	r4, r2, r4, lsl #1
 1432              	.LVL96:
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 1433              		.loc 1 2237 3 is_stmt 1 view .LVU391
 1434              		.loc 1 2237 3 is_stmt 0 view .LVU392
 1435 00e0 2BB1     		cbz	r3, .L97
 1436              	.LVL97:
 1437              	.L95:
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
2239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     temp1 = (uint16_t) * pbUsrBuf;
 1438              		.loc 1 2239 5 is_stmt 1 view .LVU393
 1439 00e2 37F8025B 		ldrh	r5, [r7], #2	@ unaligned
 1440              	.LVL98:
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 1441              		.loc 1 2240 5 view .LVU394
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     temp2 = temp1 | (uint16_t) * pbUsrBuf << 8;
 1442              		.loc 1 2241 5 view .LVU395
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     *pdwVal++ = temp2;
 1443              		.loc 1 2242 5 view .LVU396
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1444              		.loc 1 2237 3 is_stmt 0 view .LVU397
 1445 00e6 013B     		subs	r3, r3, #1
 1446              	.LVL99:
 1447              		.loc 1 2242 15 view .LVU398
 1448 00e8 24F8045B 		strh	r5, [r4], #4	@ movhi
 1449              	.LVL100:
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pdwVal++;
 1450              		.loc 1 2243 5 is_stmt 1 view .LVU399
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 1451              		.loc 1 2244 5 view .LVU400
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1452              		.loc 1 2237 3 is_stmt 0 view .LVU401
 1453 00ec F9D1     		bne	.L95
 1454              	.LVL101:
 1455              	.L97:
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 70


 1456              		.loc 1 2237 3 view .LVU402
 1457              	.LBE66:
 1458              	.LBE65:
1865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1459              		.loc 1 1865 7 is_stmt 1 view .LVU403
 1460 00ee B0F85030 		ldrh	r3, [r0, #80]
 1461 00f2 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1462 00f4 0233     		adds	r3, r3, #2
 1463 00f6 03EBC403 		add	r3, r3, r4, lsl #3
 1464 00fa 42F81360 		str	r6, [r2, r3, lsl #1]
 1465              	.LVL102:
1865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1466              		.loc 1 1865 7 is_stmt 0 view .LVU404
 1467 00fe 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1468 0100 00EB8202 		add	r2, r0, r2, lsl #2
 1469 0104 2AE0     		b	.L96
 1470              	.LVL103:
 1471              	.L94:
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 1472              		.loc 1 1870 7 is_stmt 1 view .LVU405
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr1;
 1473              		.loc 1 1873 9 view .LVU406
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr1;
 1474              		.loc 1 1873 9 view .LVU407
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr1;
 1475              		.loc 1 1873 9 view .LVU408
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr0;
 1476              		.loc 1 1879 9 view .LVU409
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr0;
 1477              		.loc 1 1879 9 view .LVU410
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr0;
 1478              		.loc 1 1879 9 view .LVU411
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 1479              		.loc 1 1870 11 is_stmt 0 view .LVU412
 1480 0106 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1481 0108 30F82450 		ldrh	r5, [r0, r4, lsl #2]
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr1;
 1482              		.loc 1 1873 9 view .LVU413
 1483 010c B0F850C0 		ldrh	ip, [r0, #80]
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       {
 1484              		.loc 1 1870 10 view .LVU414
 1485 0110 6D06     		lsls	r5, r5, #25
 1486 0112 4FEAC404 		lsl	r4, r4, #3
1874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 1487              		.loc 1 1874 19 view .LVU415
 1488 0116 4CBF     		ite	mi
 1489 0118 0D89     		ldrhmi	r5, [r1, #8]
1880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 1490              		.loc 1 1880 19 view .LVU416
 1491 011a CD88     		ldrhpl	r5, [r1, #6]
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr0;
 1492              		.loc 1 1879 9 view .LVU417
 1493 011c 6444     		add	r4, r4, ip
 1494 011e 0234     		adds	r4, r4, #2
 1495 0120 42F81460 		str	r6, [r2, r4, lsl #1]
 1496              	.LVL104:
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****         pmabuffer = ep->pmaaddr0;
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 71


 1497              		.loc 1 1879 60 is_stmt 1 view .LVU418
1880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       }
 1498              		.loc 1 1880 9 view .LVU419
1882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****       PCD_FreeUserBuffer(USBx, ep->num, ep->is_in);
 1499              		.loc 1 1882 7 view .LVU420
 1500              	.LBB67:
 1501              	.LBI67:
2230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 1502              		.loc 1 2230 6 view .LVU421
 1503              	.LBB68:
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0, temp1 = 0, temp2 = 0;
 1504              		.loc 1 2232 3 view .LVU422
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t *pdwVal = NULL;
 1505              		.loc 1 2233 3 view .LVU423
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 1506              		.loc 1 2234 3 view .LVU424
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 1507              		.loc 1 2236 3 view .LVU425
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 1508              		.loc 1 2236 58 is_stmt 0 view .LVU426
 1509 0124 02EB4502 		add	r2, r2, r5, lsl #1
 1510              	.LVL105:
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1511              		.loc 1 2237 3 is_stmt 1 view .LVU427
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1512              		.loc 1 2237 3 is_stmt 0 view .LVU428
 1513 0128 2BB1     		cbz	r3, .L103
 1514              	.LVL106:
 1515              	.L100:
2239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 1516              		.loc 1 2239 5 is_stmt 1 view .LVU429
 1517 012a 37F8024B 		ldrh	r4, [r7], #2	@ unaligned
 1518              	.LVL107:
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     temp2 = temp1 | (uint16_t) * pbUsrBuf << 8;
 1519              		.loc 1 2240 5 view .LVU430
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     *pdwVal++ = temp2;
 1520              		.loc 1 2241 5 view .LVU431
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pdwVal++;
 1521              		.loc 1 2242 5 view .LVU432
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1522              		.loc 1 2237 3 is_stmt 0 view .LVU433
 1523 012e 013B     		subs	r3, r3, #1
 1524              	.LVL108:
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pdwVal++;
 1525              		.loc 1 2242 15 view .LVU434
 1526 0130 22F8044B 		strh	r4, [r2], #4	@ movhi
 1527              	.LVL109:
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 1528              		.loc 1 2243 5 is_stmt 1 view .LVU435
 1529              		.loc 1 2244 5 view .LVU436
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1530              		.loc 1 2237 3 is_stmt 0 view .LVU437
 1531 0134 F9D1     		bne	.L100
 1532              	.LVL110:
 1533              	.L103:
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1534              		.loc 1 2237 3 view .LVU438
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 72


 1535              	.LBE68:
 1536              	.LBE67:
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1537              		.loc 1 1883 7 is_stmt 1 view .LVU439
 1538 0136 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1539 0138 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1540 013a 00EB8402 		add	r2, r0, r4, lsl #2
 1541 013e 33BB     		cbnz	r3, .L133
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1542              		.loc 1 1883 7 discriminator 1 view .LVU440
 1543 0140 40F60F73 		movw	r3, #3855
 1544 0144 30F82420 		ldrh	r2, [r0, r4, lsl #2]
 1545 0148 1340     		ands	r3, r3, r2
 1546 014a 43F40043 		orr	r3, r3, #32768
 1547 014e 43F0C003 		orr	r3, r3, #192
 1548 0152 20F82430 		strh	r3, [r0, r4, lsl #2]	@ movhi
 1549 0156 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1550 0158 00EB8202 		add	r2, r0, r2, lsl #2
 1551              	.LVL111:
 1552              	.L96:
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1553              		.loc 1 1883 51 discriminator 6 view .LVU441
 1554              	.LBB69:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1555              		.loc 1 1886 5 discriminator 6 view .LVU442
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1556              		.loc 1 1886 5 discriminator 6 view .LVU443
 1557 015c 1188     		ldrh	r1, [r2]
 1558              	.LVL112:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1559              		.loc 1 1886 5 is_stmt 0 discriminator 6 view .LVU444
 1560 015e 244B     		ldr	r3, .L134+8
 1561              	.LBE69:
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1562              		.loc 1 1918 1 discriminator 6 view .LVU445
 1563 0160 0020     		movs	r0, #0
 1564              	.LVL113:
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1565              		.loc 1 1918 1 discriminator 6 view .LVU446
 1566 0162 F0BC     		pop	{r4, r5, r6, r7}
 1567              	.LCFI27:
 1568              		.cfi_remember_state
 1569              		.cfi_restore 7
 1570              		.cfi_restore 6
 1571              		.cfi_restore 5
 1572              		.cfi_restore 4
 1573              		.cfi_def_cfa_offset 0
 1574              	.LBB70:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1575              		.loc 1 1886 5 discriminator 6 view .LVU447
 1576 0164 0B40     		ands	r3, r3, r1
 1577              	.LVL114:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1578              		.loc 1 1886 5 is_stmt 1 discriminator 6 view .LVU448
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1579              		.loc 1 1886 5 discriminator 6 view .LVU449
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 73


 1580              		.loc 1 1886 5 discriminator 6 view .LVU450
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1581              		.loc 1 1886 5 discriminator 6 view .LVU451
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1582              		.loc 1 1886 5 discriminator 6 view .LVU452
 1583 0166 83F03003 		eor	r3, r3, #48
 1584              	.LVL115:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1585              		.loc 1 1886 5 is_stmt 0 discriminator 6 view .LVU453
 1586 016a 43F40043 		orr	r3, r3, #32768
 1587              	.LVL116:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1588              		.loc 1 1886 5 discriminator 6 view .LVU454
 1589 016e 43F08003 		orr	r3, r3, #128
 1590 0172 1380     		strh	r3, [r2]	@ movhi
 1591              	.LBE70:
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1592              		.loc 1 1886 57 is_stmt 1 discriminator 6 view .LVU455
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1593              		.loc 1 1918 1 is_stmt 0 discriminator 6 view .LVU456
 1594 0174 7047     		bx	lr
 1595              	.LVL117:
 1596              	.L107:
 1597              	.LCFI28:
 1598              		.cfi_restore_state
 1599              	.LBB71:
 1600              	.LBB55:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1601              		.loc 1 1906 7 is_stmt 1 discriminator 2 view .LVU457
 1602 0176 C6F34F03 		ubfx	r3, r6, #1, #16
 1603              	.LVL118:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1604              		.loc 1 1906 7 discriminator 2 view .LVU458
 1605 017a F507     		lsls	r5, r6, #31
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1606              		.loc 1 1906 7 discriminator 2 view .LVU459
 1607 017c 44BF     		itt	mi
 1608 017e 0133     		addmi	r3, r3, #1
 1609              	.LVL119:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1610              		.loc 1 1906 7 is_stmt 0 discriminator 2 view .LVU460
 1611 0180 9BB2     		uxthmi	r3, r3
 1612              	.LVL120:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1613              		.loc 1 1906 7 is_stmt 1 discriminator 2 view .LVU461
 1614 0182 9B02     		lsls	r3, r3, #10
 1615              	.LVL121:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1616              		.loc 1 1906 7 is_stmt 0 discriminator 2 view .LVU462
 1617 0184 9BB2     		uxth	r3, r3
 1618 0186 44F81230 		str	r3, [r4, r2, lsl #1]
 1619              	.LVL122:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1620              		.loc 1 1906 7 discriminator 2 view .LVU463
 1621 018a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1622              	.LVL123:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 74


 1623              		.loc 1 1906 7 discriminator 2 view .LVU464
 1624 018c 60E7     		b	.L109
 1625              	.LVL124:
 1626              	.L133:
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1627              		.loc 1 1906 7 discriminator 2 view .LVU465
 1628              	.LBE55:
 1629              	.LBE71:
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1630              		.loc 1 1883 7 is_stmt 1 discriminator 2 view .LVU466
 1631 018e 012B     		cmp	r3, #1
 1632 0190 E4D1     		bne	.L96
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1633              		.loc 1 1883 7 discriminator 4 view .LVU467
 1634 0192 40F60F73 		movw	r3, #3855
 1635 0196 30F82420 		ldrh	r2, [r0, r4, lsl #2]
 1636 019a 1340     		ands	r3, r3, r2
 1637 019c 43F44043 		orr	r3, r3, #49152
 1638 01a0 43F08003 		orr	r3, r3, #128
 1639 01a4 20F82430 		strh	r3, [r0, r4, lsl #2]	@ movhi
 1640 01a8 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1641 01aa 00EB8202 		add	r2, r0, r2, lsl #2
 1642 01ae D5E7     		b	.L96
 1643              	.LVL125:
 1644              	.L111:
 1645              	.LBB72:
 1646              	.LBB61:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1647              		.loc 1 1911 7 discriminator 4 view .LVU468
 1648 01b0 C6F34F03 		ubfx	r3, r6, #1, #16
 1649              	.LVL126:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1650              		.loc 1 1911 7 discriminator 4 view .LVU469
 1651 01b4 F507     		lsls	r5, r6, #31
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1652              		.loc 1 1911 7 discriminator 4 view .LVU470
 1653 01b6 44BF     		itt	mi
 1654 01b8 0133     		addmi	r3, r3, #1
 1655              	.LVL127:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1656              		.loc 1 1911 7 is_stmt 0 discriminator 4 view .LVU471
 1657 01ba 9BB2     		uxthmi	r3, r3
 1658              	.LVL128:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1659              		.loc 1 1911 7 is_stmt 1 discriminator 4 view .LVU472
 1660 01bc 9B02     		lsls	r3, r3, #10
 1661 01be 9BB2     		uxth	r3, r3
 1662 01c0 44F81230 		str	r3, [r4, r2, lsl #1]
 1663              	.LVL129:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1664              		.loc 1 1911 7 is_stmt 0 discriminator 4 view .LVU473
 1665              	.LBE61:
 1666              	.LBE72:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1667              		.loc 1 1911 7 is_stmt 1 discriminator 4 view .LVU474
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1668              		.loc 1 1911 7 discriminator 4 view .LVU475
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 75


 1669 01c4 4D78     		ldrb	r5, [r1, #1]	@ zero_extendqisi2
 1670 01c6 002D     		cmp	r5, #0
 1671 01c8 3FF46FAF 		beq	.L113
 1672              	.LVL130:
 1673              	.L114:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1674              		.loc 1 1911 7 discriminator 17 view .LVU476
 1675 01cc 012D     		cmp	r5, #1
 1676 01ce 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1677              	.LVL131:
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1678              		.loc 1 1911 7 is_stmt 0 discriminator 17 view .LVU477
 1679 01d0 7FF43EAF 		bne	.L109
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1680              		.loc 1 1911 7 is_stmt 1 discriminator 28 view .LVU478
 1681 01d4 B0F85030 		ldrh	r3, [r0, #80]
 1682 01d8 0233     		adds	r3, r3, #2
 1683 01da 03EBC202 		add	r2, r3, r2, lsl #3
 1684 01de 44F81260 		str	r6, [r4, r2, lsl #1]
 1685 01e2 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1686 01e4 34E7     		b	.L109
 1687              	.L135:
 1688 01e6 00BF     		.align	2
 1689              	.L134:
 1690 01e8 0080FFFF 		.word	-32768
 1691 01ec 8FBFFFFF 		.word	-16497
 1692 01f0 BF8FFFFF 		.word	-28737
 1693              		.cfi_endproc
 1694              	.LFE75:
 1696              		.section	.text.USB_WritePacket,"ax",%progbits
 1697              		.align	1
 1698              		.p2align 2,,3
 1699              		.global	USB_WritePacket
 1700              		.syntax unified
 1701              		.thumb
 1702              		.thumb_func
 1703              		.fpu softvfp
 1705              	USB_WritePacket:
 1706              	.LVL132:
 1707              	.LFB76:
1930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 1708              		.loc 1 1930 1 view -0
 1709              		.cfi_startproc
 1710              		@ args = 0, pretend = 0, frame = 0
 1711              		@ frame_needed = 0, uses_anonymous_args = 0
 1712              		@ link register save eliminated.
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(src);
 1713              		.loc 1 1932 3 view .LVU480
1933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(ch_ep_num);
 1714              		.loc 1 1933 3 view .LVU481
1934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(len);
 1715              		.loc 1 1934 3 view .LVU482
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
 1716              		.loc 1 1935 3 view .LVU483
1940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1717              		.loc 1 1940 3 view .LVU484
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 76


 1718              		.loc 1 1941 1 is_stmt 0 view .LVU485
 1719 0000 0020     		movs	r0, #0
 1720              	.LVL133:
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1721              		.loc 1 1941 1 view .LVU486
 1722 0002 7047     		bx	lr
 1723              		.cfi_endproc
 1724              	.LFE76:
 1726              		.section	.text.USB_ReadPacket,"ax",%progbits
 1727              		.align	1
 1728              		.p2align 2,,3
 1729              		.global	USB_ReadPacket
 1730              		.syntax unified
 1731              		.thumb
 1732              		.thumb_func
 1733              		.fpu softvfp
 1735              	USB_ReadPacket:
 1736              	.LVL134:
 1737              	.LFB77:
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 1738              		.loc 1 1952 1 is_stmt 1 view -0
 1739              		.cfi_startproc
 1740              		@ args = 0, pretend = 0, frame = 0
 1741              		@ frame_needed = 0, uses_anonymous_args = 0
 1742              		@ link register save eliminated.
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(dest);
 1743              		.loc 1 1954 3 view .LVU488
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(len);
 1744              		.loc 1 1955 3 view .LVU489
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
 1745              		.loc 1 1956 3 view .LVU490
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1746              		.loc 1 1961 3 view .LVU491
1962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1747              		.loc 1 1962 1 is_stmt 0 view .LVU492
 1748 0000 0020     		movs	r0, #0
 1749              	.LVL135:
1962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1750              		.loc 1 1962 1 view .LVU493
 1751 0002 7047     		bx	lr
 1752              		.cfi_endproc
 1753              	.LFE77:
 1755              		.section	.text.USB_EPSetStall,"ax",%progbits
 1756              		.align	1
 1757              		.p2align 2,,3
 1758              		.global	USB_EPSetStall
 1759              		.syntax unified
 1760              		.thumb
 1761              		.thumb_func
 1762              		.fpu softvfp
 1764              	USB_EPSetStall:
 1765              	.LVL136:
 1766              	.LFB78:
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->num == 0)
 1767              		.loc 1 1971 1 is_stmt 1 view -0
 1768              		.cfi_startproc
 1769              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 77


 1770              		@ frame_needed = 0, uses_anonymous_args = 0
 1771              		@ link register save eliminated.
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1772              		.loc 1 1972 3 view .LVU495
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1773              		.loc 1 1972 9 is_stmt 0 view .LVU496
 1774 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1775              		.loc 1 1972 6 view .LVU497
 1776 0002 6BB9     		cbnz	r3, .L139
 1777              	.LBB73:
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1778              		.loc 1 1975 5 is_stmt 1 view .LVU498
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1779              		.loc 1 1975 5 view .LVU499
 1780 0004 0288     		ldrh	r2, [r0]
 1781              	.LVL137:
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1782              		.loc 1 1975 5 view .LVU500
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1783              		.loc 1 1975 5 view .LVU501
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1784              		.loc 1 1975 5 view .LVU502
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1785              		.loc 1 1975 5 view .LVU503
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1786              		.loc 1 1975 5 view .LVU504
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1787              		.loc 1 1975 5 view .LVU505
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1788              		.loc 1 1975 5 view .LVU506
 1789 0006 144B     		ldr	r3, .L142
 1790 0008 1340     		ands	r3, r3, r2
 1791 000a 83F48053 		eor	r3, r3, #4096
 1792 000e 83F01003 		eor	r3, r3, #16
 1793 0012 43F40043 		orr	r3, r3, #32768
 1794 0016 43F08003 		orr	r3, r3, #128
 1795 001a 0380     		strh	r3, [r0]	@ movhi
 1796              	.LBE73:
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1797              		.loc 1 1975 76 view .LVU507
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1798              		.loc 1 1985 60 view .LVU508
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1799              		.loc 1 1988 3 view .LVU509
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1800              		.loc 1 1989 1 is_stmt 0 view .LVU510
 1801 001c 0020     		movs	r0, #0
 1802              	.LVL138:
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1803              		.loc 1 1989 1 view .LVU511
 1804 001e 7047     		bx	lr
 1805              	.LVL139:
 1806              	.L139:
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 1807              		.loc 1 1979 5 is_stmt 1 view .LVU512
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 78


 1808              		.loc 1 1979 8 is_stmt 0 view .LVU513
 1809 0020 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1810              	.LBB74:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1811              		.loc 1 1981 7 view .LVU514
 1812 0022 30F82310 		ldrh	r1, [r0, r3, lsl #2]
 1813              	.LVL140:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1814              		.loc 1 1981 7 view .LVU515
 1815              	.LBE74:
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     {
 1816              		.loc 1 1979 8 view .LVU516
 1817 0026 5AB1     		cbz	r2, .L141
 1818              	.LBB75:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1819              		.loc 1 1981 7 is_stmt 1 view .LVU517
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1820              		.loc 1 1981 7 view .LVU518
 1821 0028 0C4A     		ldr	r2, .L142+4
 1822 002a 0A40     		ands	r2, r2, r1
 1823              	.LVL141:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1824              		.loc 1 1981 7 view .LVU519
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1825              		.loc 1 1981 7 view .LVU520
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1826              		.loc 1 1981 7 view .LVU521
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1827              		.loc 1 1981 7 view .LVU522
 1828 002c 82F01002 		eor	r2, r2, #16
 1829              	.LVL142:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1830              		.loc 1 1981 7 is_stmt 0 view .LVU523
 1831 0030 42F40042 		orr	r2, r2, #32768
 1832              	.LVL143:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1833              		.loc 1 1981 7 view .LVU524
 1834 0034 42F08002 		orr	r2, r2, #128
 1835 0038 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 1836              	.LBE75:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1837              		.loc 1 1981 60 is_stmt 1 view .LVU525
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1838              		.loc 1 1985 60 view .LVU526
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1839              		.loc 1 1988 3 view .LVU527
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1840              		.loc 1 1989 1 is_stmt 0 view .LVU528
 1841 003c 0020     		movs	r0, #0
 1842              	.LVL144:
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1843              		.loc 1 1989 1 view .LVU529
 1844 003e 7047     		bx	lr
 1845              	.LVL145:
 1846              	.L141:
 1847              	.LBB76:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 79


 1848              		.loc 1 1985 7 is_stmt 1 view .LVU530
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1849              		.loc 1 1985 7 view .LVU531
 1850 0040 074A     		ldr	r2, .L142+8
 1851 0042 0A40     		ands	r2, r2, r1
 1852              	.LVL146:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1853              		.loc 1 1985 7 view .LVU532
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1854              		.loc 1 1985 7 view .LVU533
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1855              		.loc 1 1985 7 view .LVU534
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1856              		.loc 1 1985 7 view .LVU535
 1857 0044 82F48052 		eor	r2, r2, #4096
 1858              	.LVL147:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1859              		.loc 1 1985 7 is_stmt 0 view .LVU536
 1860 0048 42F40042 		orr	r2, r2, #32768
 1861              	.LVL148:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1862              		.loc 1 1985 7 view .LVU537
 1863 004c 42F08002 		orr	r2, r2, #128
 1864 0050 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 1865              	.LBE76:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     }
 1866              		.loc 1 1985 60 is_stmt 1 view .LVU538
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1867              		.loc 1 1988 3 view .LVU539
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1868              		.loc 1 1989 1 is_stmt 0 view .LVU540
 1869 0054 0020     		movs	r0, #0
 1870              	.LVL149:
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1871              		.loc 1 1989 1 view .LVU541
 1872 0056 7047     		bx	lr
 1873              	.L143:
 1874              		.align	2
 1875              	.L142:
 1876 0058 BFBFFFFF 		.word	-16449
 1877 005c BF8FFFFF 		.word	-28737
 1878 0060 8FBFFFFF 		.word	-16497
 1879              		.cfi_endproc
 1880              	.LFE78:
 1882              		.section	.text.USB_EPClearStall,"ax",%progbits
 1883              		.align	1
 1884              		.p2align 2,,3
 1885              		.global	USB_EPClearStall
 1886              		.syntax unified
 1887              		.thumb
 1888              		.thumb_func
 1889              		.fpu softvfp
 1891              	USB_EPClearStall:
 1892              	.LVL150:
 1893              	.LFB79:
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in)
 1894              		.loc 1 1998 1 is_stmt 1 view -0
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 80


 1895              		.cfi_startproc
 1896              		@ args = 0, pretend = 0, frame = 0
 1897              		@ frame_needed = 0, uses_anonymous_args = 0
 1898              		@ link register save eliminated.
1999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1899              		.loc 1 1999 3 view .LVU543
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if (ep->is_in)
 1900              		.loc 1 1998 1 is_stmt 0 view .LVU544
 1901 0000 10B4     		push	{r4}
 1902              	.LCFI29:
 1903              		.cfi_def_cfa_offset 4
 1904              		.cfi_offset 4, -4
 1905 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
1999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 1906              		.loc 1 1999 6 view .LVU545
 1907 0004 4C78     		ldrb	r4, [r1, #1]	@ zero_extendqisi2
 1908 0006 00EB8302 		add	r2, r0, r3, lsl #2
 1909 000a FCB1     		cbz	r4, .L145
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
 1910              		.loc 1 2001 5 is_stmt 1 view .LVU546
 1911 000c 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 1912 0010 6406     		lsls	r4, r4, #25
 1913 0012 0CD4     		bmi	.L156
 1914              	.L146:
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
 1915              		.loc 1 2001 37 discriminator 3 view .LVU547
 1916              	.LBB77:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1917              		.loc 1 2002 5 discriminator 3 view .LVU548
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1918              		.loc 1 2002 5 discriminator 3 view .LVU549
 1919 0014 1188     		ldrh	r1, [r2]
 1920              	.LVL151:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1921              		.loc 1 2002 5 is_stmt 0 discriminator 3 view .LVU550
 1922 0016 1D4B     		ldr	r3, .L157
 1923              	.LBE77:
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1924              		.loc 1 2010 1 discriminator 3 view .LVU551
 1925 0018 0020     		movs	r0, #0
 1926              	.LVL152:
 1927              	.LBB78:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1928              		.loc 1 2002 5 discriminator 3 view .LVU552
 1929 001a 0B40     		ands	r3, r3, r1
 1930              	.LVL153:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1931              		.loc 1 2002 5 is_stmt 1 discriminator 3 view .LVU553
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1932              		.loc 1 2002 5 discriminator 3 view .LVU554
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1933              		.loc 1 2002 5 discriminator 3 view .LVU555
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1934              		.loc 1 2002 5 discriminator 3 view .LVU556
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1935              		.loc 1 2002 5 discriminator 3 view .LVU557
 1936 001c 83F03003 		eor	r3, r3, #48
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 81


 1937              	.LVL154:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1938              		.loc 1 2002 5 is_stmt 0 discriminator 3 view .LVU558
 1939 0020 43F40043 		orr	r3, r3, #32768
 1940              	.LVL155:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1941              		.loc 1 2002 5 discriminator 3 view .LVU559
 1942 0024 43F08003 		orr	r3, r3, #128
 1943 0028 1380     		strh	r3, [r2]	@ movhi
 1944              	.LBE78:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1945              		.loc 1 2002 57 is_stmt 1 discriminator 3 view .LVU560
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1946              		.loc 1 2007 57 discriminator 3 view .LVU561
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 1947              		.loc 1 2009 3 discriminator 3 view .LVU562
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1948              		.loc 1 2010 1 is_stmt 0 discriminator 3 view .LVU563
 1949 002a 10BC     		pop	{r4}
 1950              	.LCFI30:
 1951              		.cfi_remember_state
 1952              		.cfi_restore 4
 1953              		.cfi_def_cfa_offset 0
 1954 002c 7047     		bx	lr
 1955              	.LVL156:
 1956              	.L156:
 1957              	.LCFI31:
 1958              		.cfi_restore_state
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
 1959              		.loc 1 2001 5 is_stmt 1 discriminator 1 view .LVU564
 1960 002e 40F60F72 		movw	r2, #3855
 1961 0032 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 1962 0036 2240     		ands	r2, r2, r4
 1963 0038 42F40042 		orr	r2, r2, #32768
 1964 003c 42F0C002 		orr	r2, r2, #192
 1965 0040 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 1966 0044 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1967 0046 00EB8202 		add	r2, r0, r2, lsl #2
 1968 004a E3E7     		b	.L146
 1969              	.L145:
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 1970              		.loc 1 2006 5 view .LVU565
 1971 004c 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 1972 0050 6404     		lsls	r4, r4, #17
 1973 0052 0DD5     		bpl	.L148
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 1974              		.loc 1 2006 5 discriminator 1 view .LVU566
 1975 0054 40F60F72 		movw	r2, #3855
 1976 0058 30F82340 		ldrh	r4, [r0, r3, lsl #2]
 1977 005c 2240     		ands	r2, r2, r4
 1978 005e 42F44042 		orr	r2, r2, #49152
 1979 0062 42F08002 		orr	r2, r2, #128
 1980 0066 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 1981 006a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1982 006c 00EB8202 		add	r2, r0, r2, lsl #2
 1983              	.L148:
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 82


 1984              		.loc 1 2006 37 discriminator 3 view .LVU567
 1985              	.LBB79:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1986              		.loc 1 2007 5 discriminator 3 view .LVU568
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1987              		.loc 1 2007 5 discriminator 3 view .LVU569
 1988 0070 1188     		ldrh	r1, [r2]
 1989              	.LVL157:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1990              		.loc 1 2007 5 is_stmt 0 discriminator 3 view .LVU570
 1991 0072 074B     		ldr	r3, .L157+4
 1992              	.LBE79:
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 1993              		.loc 1 2010 1 discriminator 3 view .LVU571
 1994 0074 0020     		movs	r0, #0
 1995              	.LVL158:
 1996              	.LBB80:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 1997              		.loc 1 2007 5 discriminator 3 view .LVU572
 1998 0076 0B40     		ands	r3, r3, r1
 1999              	.LVL159:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2000              		.loc 1 2007 5 is_stmt 1 discriminator 3 view .LVU573
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2001              		.loc 1 2007 5 discriminator 3 view .LVU574
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2002              		.loc 1 2007 5 discriminator 3 view .LVU575
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2003              		.loc 1 2007 5 discriminator 3 view .LVU576
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2004              		.loc 1 2007 5 discriminator 3 view .LVU577
 2005 0078 83F44053 		eor	r3, r3, #12288
 2006              	.LVL160:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2007              		.loc 1 2007 5 is_stmt 0 discriminator 3 view .LVU578
 2008 007c 43F40043 		orr	r3, r3, #32768
 2009              	.LVL161:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2010              		.loc 1 2007 5 discriminator 3 view .LVU579
 2011 0080 43F08003 		orr	r3, r3, #128
 2012 0084 1380     		strh	r3, [r2]	@ movhi
 2013              	.LBE80:
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2014              		.loc 1 2007 57 is_stmt 1 discriminator 3 view .LVU580
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2015              		.loc 1 2009 3 discriminator 3 view .LVU581
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2016              		.loc 1 2010 1 is_stmt 0 discriminator 3 view .LVU582
 2017 0086 10BC     		pop	{r4}
 2018              	.LCFI32:
 2019              		.cfi_restore 4
 2020              		.cfi_def_cfa_offset 0
 2021 0088 7047     		bx	lr
 2022              	.L158:
 2023 008a 00BF     		.align	2
 2024              	.L157:
 2025 008c BF8FFFFF 		.word	-28737
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 83


 2026 0090 8FBFFFFF 		.word	-16497
 2027              		.cfi_endproc
 2028              	.LFE79:
 2030              		.section	.text.USB_StopDevice,"ax",%progbits
 2031              		.align	1
 2032              		.p2align 2,,3
 2033              		.global	USB_StopDevice
 2034              		.syntax unified
 2035              		.thumb
 2036              		.thumb_func
 2037              		.fpu softvfp
 2039              	USB_StopDevice:
 2040              	.LVL162:
 2041              	.LFB80:
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* disable all interrupts and force USB reset */
 2042              		.loc 1 2018 1 is_stmt 1 view -0
 2043              		.cfi_startproc
 2044              		@ args = 0, pretend = 0, frame = 0
 2045              		@ frame_needed = 0, uses_anonymous_args = 0
 2046              		@ link register save eliminated.
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2047              		.loc 1 2020 3 view .LVU584
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* disable all interrupts and force USB reset */
 2048              		.loc 1 2018 1 is_stmt 0 view .LVU585
 2049 0000 0346     		mov	r3, r0
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2050              		.loc 1 2023 14 view .LVU586
 2051 0002 0022     		movs	r2, #0
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2052              		.loc 1 2020 14 view .LVU587
 2053 0004 0120     		movs	r0, #1
 2054              	.LVL163:
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2055              		.loc 1 2026 14 view .LVU588
 2056 0006 0321     		movs	r1, #3
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2057              		.loc 1 2020 14 view .LVU589
 2058 0008 A3F84000 		strh	r0, [r3, #64]	@ movhi
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2059              		.loc 1 2023 3 is_stmt 1 view .LVU590
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2060              		.loc 1 2023 14 is_stmt 0 view .LVU591
 2061 000c A3F84420 		strh	r2, [r3, #68]	@ movhi
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2062              		.loc 1 2026 3 is_stmt 1 view .LVU592
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2063              		.loc 1 2029 1 is_stmt 0 view .LVU593
 2064 0010 1046     		mov	r0, r2
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2065              		.loc 1 2026 14 view .LVU594
 2066 0012 A3F84010 		strh	r1, [r3, #64]	@ movhi
2028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2067              		.loc 1 2028 3 is_stmt 1 view .LVU595
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2068              		.loc 1 2029 1 is_stmt 0 view .LVU596
 2069 0016 7047     		bx	lr
 2070              		.cfi_endproc
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 84


 2071              	.LFE80:
 2073              		.section	.text.USB_SetDevAddress,"ax",%progbits
 2074              		.align	1
 2075              		.p2align 2,,3
 2076              		.global	USB_SetDevAddress
 2077              		.syntax unified
 2078              		.thumb
 2079              		.thumb_func
 2080              		.fpu softvfp
 2082              	USB_SetDevAddress:
 2083              	.LVL164:
 2084              	.LFB81:
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   if(address == 0) 
 2085              		.loc 1 2039 1 is_stmt 1 view -0
 2086              		.cfi_startproc
 2087              		@ args = 0, pretend = 0, frame = 0
 2088              		@ frame_needed = 0, uses_anonymous_args = 0
 2089              		@ link register save eliminated.
2040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2090              		.loc 1 2040 3 view .LVU598
2040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2091              		.loc 1 2040 5 is_stmt 0 view .LVU599
 2092 0000 11B9     		cbnz	r1, .L161
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2093              		.loc 1 2043 4 is_stmt 1 view .LVU600
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
 2094              		.loc 1 2043 16 is_stmt 0 view .LVU601
 2095 0002 8023     		movs	r3, #128
 2096 0004 A0F84C30 		strh	r3, [r0, #76]	@ movhi
 2097              	.L161:
2046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2098              		.loc 1 2046 3 is_stmt 1 view .LVU602
2047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2099              		.loc 1 2047 1 is_stmt 0 view .LVU603
 2100 0008 0020     		movs	r0, #0
 2101              	.LVL165:
2047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2102              		.loc 1 2047 1 view .LVU604
 2103 000a 7047     		bx	lr
 2104              		.cfi_endproc
 2105              	.LFE81:
 2107              		.section	.text.USB_DevConnect,"ax",%progbits
 2108              		.align	1
 2109              		.p2align 2,,3
 2110              		.global	USB_DevConnect
 2111              		.syntax unified
 2112              		.thumb
 2113              		.thumb_func
 2114              		.fpu softvfp
 2116              	USB_DevConnect:
 2117              	.LFB96:
 2118              		.cfi_startproc
 2119              		@ args = 0, pretend = 0, frame = 0
 2120              		@ frame_needed = 0, uses_anonymous_args = 0
 2121              		@ link register save eliminated.
 2122 0000 0020     		movs	r0, #0
 2123 0002 7047     		bx	lr
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 85


 2124              		.cfi_endproc
 2125              	.LFE96:
 2127              		.section	.text.USB_DevDisconnect,"ax",%progbits
 2128              		.align	1
 2129              		.p2align 2,,3
 2130              		.global	USB_DevDisconnect
 2131              		.syntax unified
 2132              		.thumb
 2133              		.thumb_func
 2134              		.fpu softvfp
 2136              	USB_DevDisconnect:
 2137              	.LFB98:
 2138              		.cfi_startproc
 2139              		@ args = 0, pretend = 0, frame = 0
 2140              		@ frame_needed = 0, uses_anonymous_args = 0
 2141              		@ link register save eliminated.
 2142 0000 0020     		movs	r0, #0
 2143 0002 7047     		bx	lr
 2144              		.cfi_endproc
 2145              	.LFE98:
 2147              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 2148              		.align	1
 2149              		.p2align 2,,3
 2150              		.global	USB_ReadInterrupts
 2151              		.syntax unified
 2152              		.thumb
 2153              		.thumb_func
 2154              		.fpu softvfp
 2156              	USB_ReadInterrupts:
 2157              	.LVL166:
 2158              	.LFB84:
2087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t tmpreg = 0;
 2159              		.loc 1 2087 1 is_stmt 1 view -0
 2160              		.cfi_startproc
 2161              		@ args = 0, pretend = 0, frame = 0
 2162              		@ frame_needed = 0, uses_anonymous_args = 0
 2163              		@ link register save eliminated.
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2164              		.loc 1 2088 3 view .LVU606
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return tmpreg;
 2165              		.loc 1 2090 3 view .LVU607
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return tmpreg;
 2166              		.loc 1 2090 16 is_stmt 0 view .LVU608
 2167 0000 B0F84400 		ldrh	r0, [r0, #68]
 2168              	.LVL167:
2091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2169              		.loc 1 2091 3 is_stmt 1 view .LVU609
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2170              		.loc 1 2092 1 is_stmt 0 view .LVU610
 2171 0004 7047     		bx	lr
 2172              		.cfi_endproc
 2173              	.LFE84:
 2175 0006 00BF     		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 2176              		.align	1
 2177              		.p2align 2,,3
 2178              		.global	USB_ReadDevAllOutEpInterrupt
 2179              		.syntax unified
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 86


 2180              		.thumb
 2181              		.thumb_func
 2182              		.fpu softvfp
 2184              	USB_ReadDevAllOutEpInterrupt:
 2185              	.LVL168:
 2186              	.LFB85:
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 2187              		.loc 1 2100 1 is_stmt 1 view -0
 2188              		.cfi_startproc
 2189              		@ args = 0, pretend = 0, frame = 0
 2190              		@ frame_needed = 0, uses_anonymous_args = 0
 2191              		@ link register save eliminated.
2102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
 2192              		.loc 1 2102 3 view .LVU612
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2193              		.loc 1 2107 3 view .LVU613
2108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2194              		.loc 1 2108 1 is_stmt 0 view .LVU614
 2195 0000 0020     		movs	r0, #0
 2196              	.LVL169:
2108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2197              		.loc 1 2108 1 view .LVU615
 2198 0002 7047     		bx	lr
 2199              		.cfi_endproc
 2200              	.LFE85:
 2202              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 2203              		.align	1
 2204              		.p2align 2,,3
 2205              		.global	USB_ReadDevAllInEpInterrupt
 2206              		.syntax unified
 2207              		.thumb
 2208              		.thumb_func
 2209              		.fpu softvfp
 2211              	USB_ReadDevAllInEpInterrupt:
 2212              	.LFB100:
 2213              		.cfi_startproc
 2214              		@ args = 0, pretend = 0, frame = 0
 2215              		@ frame_needed = 0, uses_anonymous_args = 0
 2216              		@ link register save eliminated.
 2217 0000 0020     		movs	r0, #0
 2218 0002 7047     		bx	lr
 2219              		.cfi_endproc
 2220              	.LFE100:
 2222              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 2223              		.align	1
 2224              		.p2align 2,,3
 2225              		.global	USB_ReadDevOutEPInterrupt
 2226              		.syntax unified
 2227              		.thumb
 2228              		.thumb_func
 2229              		.fpu softvfp
 2231              	USB_ReadDevOutEPInterrupt:
 2232              	.LVL170:
 2233              	.LFB87:
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 2234              		.loc 1 2134 1 is_stmt 1 view -0
 2235              		.cfi_startproc
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 87


 2236              		@ args = 0, pretend = 0, frame = 0
 2237              		@ frame_needed = 0, uses_anonymous_args = 0
 2238              		@ link register save eliminated.
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(epnum);
 2239              		.loc 1 2136 3 view .LVU617
2137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
 2240              		.loc 1 2137 3 view .LVU618
2142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2241              		.loc 1 2142 3 view .LVU619
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2242              		.loc 1 2143 1 is_stmt 0 view .LVU620
 2243 0000 0020     		movs	r0, #0
 2244              	.LVL171:
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2245              		.loc 1 2143 1 view .LVU621
 2246 0002 7047     		bx	lr
 2247              		.cfi_endproc
 2248              	.LFE87:
 2250              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 2251              		.align	1
 2252              		.p2align 2,,3
 2253              		.global	USB_ReadDevInEPInterrupt
 2254              		.syntax unified
 2255              		.thumb
 2256              		.thumb_func
 2257              		.fpu softvfp
 2259              	USB_ReadDevInEPInterrupt:
 2260              	.LFB102:
 2261              		.cfi_startproc
 2262              		@ args = 0, pretend = 0, frame = 0
 2263              		@ frame_needed = 0, uses_anonymous_args = 0
 2264              		@ link register save eliminated.
 2265 0000 0020     		movs	r0, #0
 2266 0002 7047     		bx	lr
 2267              		.cfi_endproc
 2268              	.LFE102:
 2270              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 2271              		.align	1
 2272              		.p2align 2,,3
 2273              		.global	USB_ClearInterrupts
 2274              		.syntax unified
 2275              		.thumb
 2276              		.thumb_func
 2277              		.fpu softvfp
 2279              	USB_ClearInterrupts:
 2280              	.LVL172:
 2281              	.LFB89:
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 2282              		.loc 1 2171 1 is_stmt 1 view -0
 2283              		.cfi_startproc
 2284              		@ args = 0, pretend = 0, frame = 0
 2285              		@ frame_needed = 0, uses_anonymous_args = 0
 2286              		@ link register save eliminated.
2173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(interrupt);
 2287              		.loc 1 2173 3 view .LVU623
2174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
 2288              		.loc 1 2174 3 view .LVU624
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 88


2179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2289              		.loc 1 2179 1 is_stmt 0 view .LVU625
 2290 0000 7047     		bx	lr
 2291              		.cfi_endproc
 2292              	.LFE89:
 2294 0002 00BF     		.section	.text.USB_EP0_OutStart,"ax",%progbits
 2295              		.align	1
 2296              		.p2align 2,,3
 2297              		.global	USB_EP0_OutStart
 2298              		.syntax unified
 2299              		.thumb
 2300              		.thumb_func
 2301              		.fpu softvfp
 2303              	USB_EP0_OutStart:
 2304              	.LVL173:
 2305              	.LFB90:
2188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 2306              		.loc 1 2188 1 is_stmt 1 view -0
 2307              		.cfi_startproc
 2308              		@ args = 0, pretend = 0, frame = 0
 2309              		@ frame_needed = 0, uses_anonymous_args = 0
 2310              		@ link register save eliminated.
2190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   UNUSED(psetup);
 2311              		.loc 1 2190 3 view .LVU627
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used 
 2312              		.loc 1 2191 3 view .LVU628
2196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2313              		.loc 1 2196 3 view .LVU629
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2314              		.loc 1 2197 1 is_stmt 0 view .LVU630
 2315 0000 0020     		movs	r0, #0
 2316              	.LVL174:
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2317              		.loc 1 2197 1 view .LVU631
 2318 0002 7047     		bx	lr
 2319              		.cfi_endproc
 2320              	.LFE90:
 2322              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 2323              		.align	1
 2324              		.p2align 2,,3
 2325              		.global	USB_ActivateRemoteWakeup
 2326              		.syntax unified
 2327              		.thumb
 2328              		.thumb_func
 2329              		.fpu softvfp
 2331              	USB_ActivateRemoteWakeup:
 2332              	.LVL175:
 2333              	.LFB91:
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR |= USB_CNTR_RESUME;
 2334              		.loc 1 2205 1 is_stmt 1 view -0
 2335              		.cfi_startproc
 2336              		@ args = 0, pretend = 0, frame = 0
 2337              		@ frame_needed = 0, uses_anonymous_args = 0
 2338              		@ link register save eliminated.
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2339              		.loc 1 2206 3 view .LVU633
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR |= USB_CNTR_RESUME;
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 89


 2340              		.loc 1 2205 1 is_stmt 0 view .LVU634
 2341 0000 0246     		mov	r2, r0
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2342              		.loc 1 2206 14 view .LVU635
 2343 0002 B0F84030 		ldrh	r3, [r0, #64]
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2344              		.loc 1 2209 1 view .LVU636
 2345 0006 0020     		movs	r0, #0
 2346              	.LVL176:
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2347              		.loc 1 2206 14 view .LVU637
 2348 0008 43F01003 		orr	r3, r3, #16
 2349 000c A2F84030 		strh	r3, [r2, #64]	@ movhi
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2350              		.loc 1 2208 3 is_stmt 1 view .LVU638
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2351              		.loc 1 2209 1 is_stmt 0 view .LVU639
 2352 0010 7047     		bx	lr
 2353              		.cfi_endproc
 2354              	.LFE91:
 2356 0012 00BF     		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 2357              		.align	1
 2358              		.p2align 2,,3
 2359              		.global	USB_DeActivateRemoteWakeup
 2360              		.syntax unified
 2361              		.thumb
 2362              		.thumb_func
 2363              		.fpu softvfp
 2365              	USB_DeActivateRemoteWakeup:
 2366              	.LVL177:
 2367              	.LFB92:
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR &= ~(USB_CNTR_RESUME);
 2368              		.loc 1 2217 1 is_stmt 1 view -0
 2369              		.cfi_startproc
 2370              		@ args = 0, pretend = 0, frame = 0
 2371              		@ frame_needed = 0, uses_anonymous_args = 0
 2372              		@ link register save eliminated.
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 2373              		.loc 1 2218 3 view .LVU641
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   USBx->CNTR &= ~(USB_CNTR_RESUME);
 2374              		.loc 1 2217 1 is_stmt 0 view .LVU642
 2375 0000 0246     		mov	r2, r0
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 2376              		.loc 1 2218 14 view .LVU643
 2377 0002 B0F84030 		ldrh	r3, [r0, #64]
2220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2378              		.loc 1 2220 1 view .LVU644
 2379 0006 0020     		movs	r0, #0
 2380              	.LVL178:
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   return HAL_OK;
 2381              		.loc 1 2218 14 view .LVU645
 2382 0008 23F01003 		bic	r3, r3, #16
 2383 000c 1B04     		lsls	r3, r3, #16
 2384 000e 1B0C     		lsrs	r3, r3, #16
 2385 0010 A2F84030 		strh	r3, [r2, #64]	@ movhi
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2386              		.loc 1 2219 3 is_stmt 1 view .LVU646
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 90


2220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
 2387              		.loc 1 2220 1 is_stmt 0 view .LVU647
 2388 0014 7047     		bx	lr
 2389              		.cfi_endproc
 2390              	.LFE92:
 2392 0016 00BF     		.section	.text.USB_WritePMA,"ax",%progbits
 2393              		.align	1
 2394              		.p2align 2,,3
 2395              		.global	USB_WritePMA
 2396              		.syntax unified
 2397              		.thumb
 2398              		.thumb_func
 2399              		.fpu softvfp
 2401              	USB_WritePMA:
 2402              	.LVL179:
 2403              	.LFB93:
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t nbytes = (wNBytes + 1) >> 1;   /* nbytes = (wNBytes + 1) / 2 */
 2404              		.loc 1 2231 1 is_stmt 1 view -0
 2405              		.cfi_startproc
 2406              		@ args = 0, pretend = 0, frame = 0
 2407              		@ frame_needed = 0, uses_anonymous_args = 0
 2408              		@ link register save eliminated.
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0, temp1 = 0, temp2 = 0;
 2409              		.loc 1 2232 3 view .LVU649
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0, temp1 = 0, temp2 = 0;
 2410              		.loc 1 2232 30 is_stmt 0 view .LVU650
 2411 0000 0133     		adds	r3, r3, #1
 2412              	.LVL180:
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint16_t *pdwVal = NULL;
 2413              		.loc 1 2233 3 is_stmt 1 view .LVU651
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
 2414              		.loc 1 2234 3 view .LVU652
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 2415              		.loc 1 2236 3 view .LVU653
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 2416              		.loc 1 2236 58 is_stmt 0 view .LVU654
 2417 0002 00F58060 		add	r0, r0, #1024
 2418              	.LVL181:
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2419              		.loc 1 2237 3 view .LVU655
 2420 0006 5B10     		asrs	r3, r3, #1
 2421              	.LVL182:
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 2422              		.loc 1 2236 58 view .LVU656
 2423 0008 00EB4202 		add	r2, r0, r2, lsl #1
 2424              	.LVL183:
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2425              		.loc 1 2237 3 is_stmt 1 view .LVU657
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2426              		.loc 1 2237 3 is_stmt 0 view .LVU658
 2427 000c 05D0     		beq	.L173
 2428              	.LVL184:
 2429              	.L174:
2239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 2430              		.loc 1 2239 5 is_stmt 1 discriminator 3 view .LVU659
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     temp2 = temp1 | (uint16_t) * pbUsrBuf << 8;
 2431              		.loc 1 2240 5 discriminator 3 view .LVU660
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 91


2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     *pdwVal++ = temp2;
 2432              		.loc 1 2241 5 discriminator 3 view .LVU661
 2433 000e 31F8020B 		ldrh	r0, [r1], #2	@ unaligned
 2434              	.LVL185:
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pdwVal++;
 2435              		.loc 1 2242 5 discriminator 3 view .LVU662
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2436              		.loc 1 2237 3 is_stmt 0 discriminator 3 view .LVU663
 2437 0012 013B     		subs	r3, r3, #1
 2438              	.LVL186:
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pdwVal++;
 2439              		.loc 1 2242 15 discriminator 3 view .LVU664
 2440 0014 22F8040B 		strh	r0, [r2], #4	@ movhi
 2441              	.LVL187:
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 2442              		.loc 1 2243 5 is_stmt 1 discriminator 3 view .LVU665
 2443              		.loc 1 2244 5 discriminator 3 view .LVU666
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2444              		.loc 1 2237 3 is_stmt 0 discriminator 3 view .LVU667
 2445 0018 F9D1     		bne	.L174
 2446              	.L173:
2245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2447              		.loc 1 2246 1 view .LVU668
 2448 001a 7047     		bx	lr
 2449              		.cfi_endproc
 2450              	.LFE93:
 2452              		.section	.text.USB_ReadPMA,"ax",%progbits
 2453              		.align	1
 2454              		.p2align 2,,3
 2455              		.global	USB_ReadPMA
 2456              		.syntax unified
 2457              		.thumb
 2458              		.thumb_func
 2459              		.fpu softvfp
 2461              	USB_ReadPMA:
 2462              	.LVL188:
 2463              	.LFB94:
2247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** 
2248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** /**
2249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @brief  Copy a buffer from user memory area to packet memory area (PMA)
2250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  USBx : pointer to USB register.
2251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** * @param  pbUsrBuf : pointer to user memory area.
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  wPMABufAddr : address into PMA.
2253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @param  wNBytes : number of bytes to be copied.
2254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   * @retval None
2255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   */
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** void USB_ReadPMA(USB_TypeDef *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
2257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** {
 2464              		.loc 1 2257 1 is_stmt 1 view -0
 2465              		.cfi_startproc
 2466              		@ args = 0, pretend = 0, frame = 0
 2467              		@ frame_needed = 0, uses_anonymous_args = 0
 2468              		@ link register save eliminated.
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t nbytes = (wNBytes + 1) >> 1;/* /2*/
 2469              		.loc 1 2258 3 view .LVU670
 2470              		.loc 1 2258 30 is_stmt 0 view .LVU671
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 92


 2471 0000 0133     		adds	r3, r3, #1
 2472              	.LVL189:
2259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t index = 0;
 2473              		.loc 1 2259 3 is_stmt 1 view .LVU672
2260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   uint32_t *pdwVal = NULL;
 2474              		.loc 1 2260 3 view .LVU673
2261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   pdwVal = (uint32_t *)(wPMABufAddr * 2 + (uint32_t)USBx + 0x400);
 2475              		.loc 1 2262 3 view .LVU674
 2476              		.loc 1 2262 58 is_stmt 0 view .LVU675
 2477 0002 00F58060 		add	r0, r0, #1024
 2478              	.LVL190:
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 2479              		.loc 1 2263 3 view .LVU676
 2480 0006 5B10     		asrs	r3, r3, #1
 2481              	.LVL191:
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   for (index = nbytes; index != 0; index--)
 2482              		.loc 1 2262 58 view .LVU677
 2483 0008 00EB4202 		add	r2, r0, r2, lsl #1
 2484              	.LVL192:
 2485              		.loc 1 2263 3 is_stmt 1 view .LVU678
 2486              		.loc 1 2263 3 is_stmt 0 view .LVU679
 2487 000c 05D0     		beq	.L178
 2488              	.LVL193:
 2489              	.L180:
2264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
2265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     *(uint16_t*)pbUsrBuf++ = *pdwVal++;
 2490              		.loc 1 2265 5 is_stmt 1 discriminator 3 view .LVU680
 2491              		.loc 1 2265 28 is_stmt 0 discriminator 3 view .LVU681
 2492 000e 52F8040B 		ldr	r0, [r2], #4
 2493              	.LVL194:
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2494              		.loc 1 2263 3 discriminator 3 view .LVU682
 2495 0012 013B     		subs	r3, r3, #1
 2496              	.LVL195:
 2497              		.loc 1 2265 28 discriminator 3 view .LVU683
 2498 0014 21F8020B 		strh	r0, [r1], #2	@ movhi
 2499              	.LVL196:
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****     pbUsrBuf++;
 2500              		.loc 1 2266 5 is_stmt 1 discriminator 3 view .LVU684
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   {
 2501              		.loc 1 2263 3 is_stmt 0 discriminator 3 view .LVU685
 2502 0018 F9D1     		bne	.L180
 2503              	.L178:
2267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c ****   }
2268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_ll_usb.c **** }
 2504              		.loc 1 2268 1 view .LVU686
 2505 001a 7047     		bx	lr
 2506              		.cfi_endproc
 2507              	.LFE94:
 2509              		.text
 2510              	.Letext0:
 2511              		.file 2 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 2512              		.file 3 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 2513              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 2514              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 2515              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 93


 2516              		.file 7 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\lock.h"
 2517              		.file 8 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\_types.h"
 2518              		.file 9 "d:\\vsarm\\armcc\\lib\\gcc\\arm-none-eabi\\8.2.1\\include\\stddef.h"
 2519              		.file 10 "d:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\reent.h"
 2520              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2521              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_usb.h"
 2522              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_pcd.h"
 2523              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 94


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f1xx_ll_usb.c
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:16     .text.USB_CoreInit:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:25     .text.USB_CoreInit:0000000000000000 USB_CoreInit
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:56     .text.USB_EnableGlobalInt:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:64     .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:92     .text.USB_DisableGlobalInt:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:100    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:130    .text.USB_SetCurrentMode:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:138    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:158    .text.USB_DevInit:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:166    .text.USB_DevInit:0000000000000000 USB_DevInit
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:249    .text.USB_FlushTxFifo:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:257    .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:277    .text.USB_FlushRxFifo:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:285    .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:304    .text.USB_ActivateEndpoint:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:312    .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:336    .text.USB_ActivateEndpoint:0000000000000012 $d
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:340    .text.USB_ActivateEndpoint:0000000000000016 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:843    .text.USB_ActivateEndpoint:00000000000002c4 $d
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:851    .text.USB_DeactivateEndpoint:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:859    .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1176   .text.USB_DeactivateEndpoint:0000000000000188 $d
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1182   .text.USB_EPStartXfer:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1190   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1690   .text.USB_EPStartXfer:00000000000001e8 $d
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1697   .text.USB_WritePacket:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1705   .text.USB_WritePacket:0000000000000000 USB_WritePacket
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1727   .text.USB_ReadPacket:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1735   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1756   .text.USB_EPSetStall:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1764   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1876   .text.USB_EPSetStall:0000000000000058 $d
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1883   .text.USB_EPClearStall:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:1891   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2025   .text.USB_EPClearStall:000000000000008c $d
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2031   .text.USB_StopDevice:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2039   .text.USB_StopDevice:0000000000000000 USB_StopDevice
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2074   .text.USB_SetDevAddress:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2082   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2108   .text.USB_DevConnect:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2116   .text.USB_DevConnect:0000000000000000 USB_DevConnect
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2128   .text.USB_DevDisconnect:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2136   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2148   .text.USB_ReadInterrupts:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2156   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2176   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2184   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2203   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2211   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2223   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2231   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2251   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2259   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2271   .text.USB_ClearInterrupts:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2279   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
ARM GAS  C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s 			page 95


C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2295   .text.USB_EP0_OutStart:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2303   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2323   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2331   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2357   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2365   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2393   .text.USB_WritePMA:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2401   .text.USB_WritePMA:0000000000000000 USB_WritePMA
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2453   .text.USB_ReadPMA:0000000000000000 $t
C:\Users\Eemeli\AppData\Local\Temp\ccesTrhM.s:2461   .text.USB_ReadPMA:0000000000000000 USB_ReadPMA

NO UNDEFINED SYMBOLS
